# ========== 環境變量配置文件 ==========
# 
# 使用說明：
# 1. 將此文件複製為項目根目錄的 .env 文件
# 2. 填入必填環境變量（標記為 [必填]）
# 3. 根據需要調整可選環境變量
#
# 驗證環境變量：
#   python scripts/validate_env.py
#
# ========== Telegram API 配置 [必填] ==========

# Telegram 開發者 API ID（整型）
# 從 https://my.telegram.org 獲取
TELEGRAM_API_ID=123456

# Telegram API Hash
# 從 https://my.telegram.org 獲取
TELEGRAM_API_HASH=your_telegram_api_hash

# Pyrogram Session 名稱
# 用於創建 Telegram session 文件
TELEGRAM_SESSION_NAME=your_session_name

# Telegram Session String（可選）
# 如果已存在 Session String，可直接使用
TELEGRAM_SESSION_STRING=

# Telegram Session 文件路徑（可選）
# 如果已存在 Session 文件，可指定路徑
TELEGRAM_SESSION_FILE=

# ========== Session 文件加密配置（可選） ==========

# 是否啟用 Session 文件加密存儲（可選，默認: false）
# true = 啟用加密, false = 明文存儲
SESSION_ENCRYPTION_ENABLED=false

# Session 文件加密密鑰（可選）
# 如果啟用加密，必須提供以下之一：
# 1. SESSION_ENCRYPTION_KEY: Fernet 密鑰（44 字符 base64 編碼）
#    生成方式: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# 2. SESSION_ENCRYPTION_PASSWORD: 密碼字符串（將自動派生密鑰）
SESSION_ENCRYPTION_KEY=
SESSION_ENCRYPTION_PASSWORD=

# ========== OpenAI API 配置 [必填] ==========

# OpenAI API Key
# 從 https://platform.openai.com/api-keys 獲取
OPENAI_API_KEY=your_openai_api_key

# OpenAI 默認模型名稱（可選，默認: gpt-4）
OPENAI_MODEL=gpt-4

# OpenAI Vision 模型名稱（可選，默認: gpt-4o-mini）
OPENAI_VISION_MODEL=gpt-4o-mini

# OpenAI 主要 STT 模型（可選，默認: gpt-4o-mini-transcribe）
OPENAI_STT_PRIMARY=gpt-4o-mini-transcribe

# OpenAI 備用 STT 模型（可選，默認: whisper-1）
OPENAI_STT_FALLBACK=whisper-1

# ========== 語音功能配置（可選） ==========

# 是否啟用語音響應（可選，默認: 1）
# 1 = 啟用, 0 = 禁用
ENABLE_VOICE_RESPONSES=1

# 最小語音時長（秒，可選，默認: 1）
MIN_VOICE_DURATION_SEC=1

# 最大語音時長（秒，可選，默認: 120）
MAX_VOICE_DURATION_SEC=120

# 最大語音文件大小（MB，可選，默認: 8）
MAX_VOICE_FILE_MB=8

# 主動語音最小輪次（可選，默認: 4）
PROACTIVE_VOICE_MIN_TURN=4

# 主動語音間隔（輪次，可選，默認: 3）
PROACTIVE_VOICE_INTERVAL=3

# 主動語音文本閾值（字符數，可選，默認: 60）
PROACTIVE_VOICE_TEXT_THRESHOLD=60

# ========== 騰訊雲配置（可選） ==========

# 騰訊雲 Secret ID（可選）
TENCENT_SECRET_ID=your_tencent_secret_id

# 騰訊雲 Secret Key（可選）
TENCENT_SECRET_KEY=your_tencent_secret_key

# ========== 速率限制配置（可選） ==========

# 每分鐘允許的自動加好友上限（可選，默認: 15）
ADD_FRIENDS_RATE_PER_MINUTE=15

# 每分鐘歡迎消息最大發送次數（可選，默認: 20）
GREET_RATE_PER_MINUTE=20

# 每分鐘批量自動回覆最大發送次數（可選，默認: 30）
AUTO_REPLY_RATE_PER_MINUTE=30

# 每分鐘允許執行的標籤分析次數（可選，默認: 25）
TAG_ANALYZE_RATE_PER_MINUTE=25

# ========== 定時任務配置（可選） ==========

# 定時歡迎任務執行間隔秒數（可選，默認: 300）
AUTO_GREET_INTERVAL_SECONDS=300

# 批量問候/回覆輪詢間隔秒數（可選，默認: 180）
AUTO_REPLY_INTERVAL_SECONDS=180

# 標籤分析輪詢間隔秒數（可選，默認: 900）
AUTO_TAG_ANALYZE_INTERVAL_SECONDS=900

# 備份排程執行間隔秒數（可選，默認: 3600）
AUTO_BACKUP_INTERVAL_SECONDS=3600

# ========== 遊戲系統對接配置（可選） ==========

# 方式1: 數據庫對接（推薦）- 直接查詢遊戲系統數據庫
# SQLite 示例: sqlite:///./path/to/game_system/data.sqlite
# PostgreSQL 示例: postgresql://user:password@localhost:5432/game_db
# MySQL 示例: mysql+pymysql://user:password@localhost:3306/game_db
GAME_DATABASE_URL=

# 方式2: HTTP API 對接（如果遊戲系統提供 API）
GROUP_AI_GAME_API_BASE_URL=http://localhost:8000
GROUP_AI_GAME_API_KEY=your_api_key_here
GROUP_AI_GAME_API_ENABLED=false
GROUP_AI_GAME_API_TIMEOUT=30

# 方式3: 遊戲系統代碼路徑（用於直接調用遊戲系統函數）
# 示例: E:/002-工作文件/重要程序/紅包系統機器人/037重新開發新功能
GAME_SYSTEM_PATH=

# ========== Admin Backend 配置（可選） ==========

# 數據庫 URL（可選，默認: sqlite:///./admin.db）
DATABASE_URL=sqlite:///./admin.db

# JWT 密鑰（必填，生產環境必須修改）
JWT_SECRET=change_me

# 管理員默認郵箱（可選，默認: admin@example.com）
ADMIN_DEFAULT_EMAIL=admin@example.com

# 管理員默認密碼（必填，生產環境必須修改）
ADMIN_DEFAULT_PASSWORD=changeme123

# Redis URL（可選，默認: redis://localhost:6379/0）
REDIS_URL=redis://localhost:6379/0

# ========== 通知服務配置（可選） ==========

# 是否啟用郵件通知（可選，默認: false）
EMAIL_ENABLED=false

# SMTP 服務器主機（可選，默認: smtp.gmail.com）
SMTP_HOST=smtp.gmail.com

# SMTP 服務器端口（可選，默認: 587）
SMTP_PORT=587

# SMTP 用戶名（郵件發送賬號）
SMTP_USER=

# SMTP 密碼（郵件發送賬號密碼或應用專用密碼）
SMTP_PASSWORD=

# 郵件發送者地址（可選，默認: SMTP_USER）
EMAIL_FROM=

# 是否啟用 Webhook 通知（可選，默認: false）
WEBHOOK_ENABLED=false

# Webhook URL（可選，默認: 空）
WEBHOOK_URL=

# Telegram Bot Token（用於發送告警通知，可選）
# 從 @BotFather 獲取：https://t.me/botfather
TELEGRAM_BOT_TOKEN=

# ========== 定時告警檢查配置（可選） ==========

# 是否啟用定時告警檢查（可選，默認: true）
ALERT_CHECK_ENABLED=true

# 告警檢查間隔（秒，可選，默認: 300，即 5 分鐘）
ALERT_CHECK_INTERVAL_SECONDS=300

# ========== 環境變量驗證 ==========
#
# 啟動前建議運行驗證腳本：
#   python scripts/validate_env.py
#
# 或直接在啟動時進行驗證（main.py 會自動驗證必填環境變量）
#
