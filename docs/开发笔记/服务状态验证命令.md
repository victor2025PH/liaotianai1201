# 服務狀態驗證命令

> **日期**: 2025-12-01

---

## 🔍 立即執行（複製粘貼）

在服務器終端執行以下命令驗證服務狀態：

```bash
echo "【1】檢查服務進程..." && \
ps aux | grep uvicorn | grep -v grep && \
echo "" && \
echo "【2】檢查端口占用..." && \
(lsof -ti:8000 || netstat -tlnp | grep 8000) && \
echo "" && \
echo "【3】檢查健康端點（等待3秒）..." && \
sleep 3 && \
curl -v http://localhost:8000/health && \
echo "" && \
echo "【4】查看最近30行日誌..." && \
tail -30 /tmp/backend.log
```

---

## 📋 簡化版本

如果上面的命令太長，可以分步執行：

### 步驟 1: 檢查進程和端口

```bash
ps aux | grep uvicorn | grep -v grep
lsof -ti:8000 || echo "端口8000未被占用"
```

### 步驟 2: 測試健康端點

```bash
curl -s http://localhost:8000/health
```

### 步驟 3: 查看日誌

```bash
tail -30 /tmp/backend.log
```

---

## ⚠️ 注意事項

從輸出看到的警告都是**非關鍵的**（不影響服務運行）：

1. ✅ **bcrypt 版本警告** - 不影響功能，服務仍可正常運行
2. ✅ **.env 文件未找到** - 警告，但不影響核心功能
3. ✅ **OPENAI_API_KEY 未設置** - 僅影響 AI 功能，不影響基本服務
4. ✅ **psutil 未安裝** - 僅影響性能監控，不影響核心功能
5. ✅ **Prometheus 指標未可用** - 僅影響監控，不影響服務

---

## ✅ 成功的標誌

如果服務正常運行，應該看到：

1. ✅ uvicorn 進程正在運行
2. ✅ 端口 8000 被占用
3. ✅ `curl http://localhost:8000/health` 返回 JSON 響應
4. ✅ 日誌中沒有致命錯誤

---

**下一步**: 執行驗證命令並告訴我結果
