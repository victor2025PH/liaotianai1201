# å¿«é€ŸåŸ·è¡Œ - é‡æ–°éƒ¨ç½²å’Œæ¸¬è©¦

> **æ—¥æœŸ**: 2025-12-01  
> **ä»»å‹™**: é‡æ–°éƒ¨ç½²å¾Œç«¯ä¸¦æ¸¬è©¦ä¿®å¾©

---

## ğŸš€ æœ€ç°¡å–®çš„æ–¹å¼

åœ¨æœå‹™å™¨ SSH çµ‚ç«¯åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# é‡å•Ÿæœå‹™ä¸¦æ¸¬è©¦
sudo systemctl restart smart-tg-backend.service && sleep 5 && \
TOKEN=$(curl -s -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@example.com&password=changeme123" | \
  python3 -c "import sys, json; print(json.loads(sys.stdin.read()).get('access_token', ''))") && \
echo "=== æ¸¬è©¦çµæœ ===" && \
echo "ã€æ¸¬è©¦ã€‘è³¬è™Ÿç‹€æ…‹ç«¯é»..." && \
curl -s -w "\nHTTPç‹€æ…‹ç¢¼: %{http_code}\n" \
  -H "Authorization: Bearer $TOKEN" \
  "http://localhost:8000/api/v1/group-ai/accounts/639454959591/status" | \
  python3 -m json.tool
```

---

## ğŸ“‹ åˆ†æ­¥é©ŸåŸ·è¡Œï¼ˆæ¨è–¦ï¼‰

### æ­¥é©Ÿ 1: é‡å•Ÿå¾Œç«¯æœå‹™

```bash
sudo systemctl restart smart-tg-backend.service
sleep 5
```

### æ­¥é©Ÿ 2: æ¸¬è©¦ä¿®å¾©

```bash
# ç²å– Token
TOKEN=$(curl -s -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@example.com&password=changeme123" | \
  python3 -c "import sys, json; print(json.loads(sys.stdin.read()).get('access_token', ''))")

# æ¸¬è©¦è³¬è™Ÿç‹€æ…‹ç«¯é»
echo "=== æ¸¬è©¦è³¬è™Ÿç‹€æ…‹ç«¯é»ä¿®å¾© ==="
curl -s -w "\n\nHTTPç‹€æ…‹ç¢¼: %{http_code}\n" \
  -H "Authorization: Bearer $TOKEN" \
  "http://localhost:8000/api/v1/group-ai/accounts/639454959591/status" | \
  python3 -m json.tool
```

---

## âœ… é æœŸçµæœ

**ä¿®å¾©æˆåŠŸæ‡‰è©²çœ‹åˆ°**:
- âœ… HTTP ç‹€æ…‹ç¢¼: **200**ï¼ˆä¸æ˜¯ 404ï¼‰
- âœ… è¿”å› JSON æ ¼å¼çš„è³¬è™Ÿç‹€æ…‹

**éŸ¿æ‡‰ç¤ºä¾‹**:
```json
{
    "account_id": "639454959591",
    "status": "offline",
    "online": false,
    "last_activity": null,
    "message_count": 0,
    "reply_count": 0,
    "redpacket_count": 0,
    "error_count": 0,
    "last_error": null,
    "uptime_seconds": 0
}
```

---

**åŸ·è¡Œæ¸¬è©¦ï¼Œå‘Šè¨´æˆ‘çµæœï¼** ğŸš€
