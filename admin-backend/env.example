# ============================================================
# Smart TG Admin Backend - 环境变量配置示例
# ============================================================
# 
# 使用方法:
# 1. 复制此文件为 .env: cp env.example .env
# 2. 根据实际环境修改配置值
# 3. 生产环境必须修改所有标记为 [必需] 的配置
#
# 生成时间: 2025-01-XX
# ============================================================

# ============================================================
# 🔴 核心安全配置（生产环境必须修改）
# ============================================================

# JWT 密钥 [必需] - 用于签名和验证 JWT Token
# ⚠️ 生产环境必须使用强随机值（至少 32 字符）
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=change_me

# JWT 算法
JWT_ALGORITHM=HS256

# Access Token 过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=60

# 管理员默认邮箱
ADMIN_DEFAULT_EMAIL=admin@example.com

# 管理员默认密码 [必需] - 首次登录后应立即修改
# ⚠️ 生产环境必须使用强密码（至少 12 字符）
ADMIN_DEFAULT_PASSWORD=changeme123

# ============================================================
# 🌐 CORS 配置（生产环境必须修改）
# ============================================================

# CORS 允许的来源 [必需] - 逗号分隔的前端应用地址
# ⚠️ 生产环境必须配置实际域名，不能使用 localhost
# 示例: https://aikz.usdt2026.cc,https://www.aikz.usdt2026.cc
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173,http://localhost:8080

# ============================================================
# 🗄️ 数据库配置
# ============================================================

# 数据库连接 URL [必需]
# SQLite (开发环境): sqlite:///./admin.db
# PostgreSQL (生产环境): postgresql://user:password@localhost:5432/dbname
DATABASE_URL=sqlite:///./admin.db

# 数据库连接池配置
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_RECYCLE=3600
DATABASE_POOL_TIMEOUT=30

# ============================================================
# 🔴 Redis 缓存配置（可选）
# ============================================================

# Redis 连接 URL（可选）
# 如果留空，将不使用 Redis 缓存
REDIS_URL=redis://localhost:6379/0

# ============================================================
# 📧 邮件通知配置（可选）
# ============================================================

# 是否启用邮件通知
EMAIL_ENABLED=false

# SMTP 服务器配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=

# ============================================================
# 🔔 Webhook 通知配置（可选）
# ============================================================

# 是否启用 Webhook 通知
WEBHOOK_ENABLED=false

# Webhook URL
WEBHOOK_URL=

# ============================================================
# 📱 Telegram 通知配置（可选）
# ============================================================

# Telegram Bot Token（用于发送通知）
TELEGRAM_BOT_TOKEN=

# Telegram Chat ID（用于接收告警通知）
TELEGRAM_CHAT_ID=

# ============================================================
# 🤖 AI/OpenAI 配置（如果使用 AI 功能）
# ============================================================

# OpenAI API Key [可选] - 从 https://platform.openai.com/api-keys 获取
# 用于 AI 功能，如对话生成等
OPENAI_API_KEY=

# ============================================================
# 🤖 Telegram API 配置（如果使用 Telegram 功能）
# ============================================================

# Telegram API ID [可选] - 从 https://my.telegram.org 获取
TELEGRAM_API_ID=

# Telegram API Hash [可选] - 从 https://my.telegram.org 获取
TELEGRAM_API_HASH=

# ============================================================
# 🎮 红包游戏配置（可选）
# ============================================================

# 红包 API 地址
REDPACKET_API_URL=https://api.usdt2026.cc

# 红包 API 密钥
REDPACKET_API_KEY=test-key-2024

# 游戏策略: conservative / balanced / aggressive / smart
GAME_STRATEGY=smart

# ============================================================
# 🔄 服务 URL 配置（可选）
# ============================================================

# Session 服务 URL
SESSION_SERVICE_URL=http://localhost:8001

# 红包服务 URL
REDPACKET_SERVICE_URL=http://localhost:8002

# 监控服务 URL
MONITORING_SERVICE_URL=http://localhost:8003

# ============================================================
# 💾 自动备份配置
# ============================================================

# 是否启用自动备份
AUTO_BACKUP_ENABLED=true

# 备份目录
BACKUP_DIR=backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 备份间隔（小时）
BACKUP_INTERVAL_HOURS=24

# ============================================================
# ⚡ 缓存配置
# ============================================================

# 默认缓存时间（秒）
CACHE_DEFAULT_TTL=300

# ============================================================
# 📊 性能监控配置
# ============================================================

# 性能检查间隔（秒）
PERFORMANCE_CHECK_INTERVAL=60

# ============================================================
# 🚀 智能优化配置
# ============================================================

# 是否启用自动优化
AUTO_OPTIMIZE_ENABLED=true

# 自动优化间隔（小时）
AUTO_OPTIMIZE_INTERVAL_HOURS=6

# ============================================================
# 🚨 告警配置
# ============================================================

# 告警检查间隔（秒），默认 300 秒（5 分钟）
ALERT_CHECK_INTERVAL_SECONDS=300

# 是否启用定时告警检查
ALERT_CHECK_ENABLED=true

# ============================================================
# 🧪 开发/测试配置（生产环境应禁用）
# ============================================================

# 是否禁用认证（仅用于开发/测试环境）
# ⚠️ 生产环境必须设置为 false
DISABLE_AUTH=false

# Telegram 注册模拟模式（用于测试，不调用真实 Telegram API）
TELEGRAM_REGISTRATION_MOCK_MODE=false

# 模拟模式下的验证码（默认: 123456）
TELEGRAM_REGISTRATION_MOCK_CODE=123456

# 是否启用认证调试日志（[AUTH DEBUG]）
# 仅在开发/调试时启用
DEBUG_AUTH_LOGS=false

# ============================================================
# 📝 应用配置
# ============================================================

# 应用名称
APP_NAME=Smart TG Admin API

# ============================================================
# 🔐 安全最佳实践
# ============================================================
#
# 1. 生产环境必须修改:
#    - JWT_SECRET (使用强随机值)
#    - ADMIN_DEFAULT_PASSWORD (使用强密码)
#    - CORS_ORIGINS (配置实际域名)
#
# 2. 敏感信息保护:
#    - 不要将 .env 文件提交到 Git
#    - 使用环境变量或密钥管理服务
#    - 定期轮换密钥和密码
#
# 3. 定期检查:
#    - 运行 scripts/check_security_config.py 验证配置
#    - 检查日志中的安全警告
#    - 监控异常访问
#
# ============================================================

