# ç®¡ç†åå°å‰ç«¯å¼€å‘æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ç»Ÿä¸€åå°ç®¡ç†ç³»ç»Ÿå‰ç«¯ï¼Œç”¨äºç®¡ç†ä¸‰ä¸ªå±•ç¤ºç½‘ç«™çš„æ•°æ®ç»Ÿè®¡ã€ä¼šè¯ç®¡ç†å’Œæˆæœ¬åˆ†æã€‚

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS
- **å›¾è¡¨**: Recharts
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ—¥æœŸå¤„ç†**: date-fns

## ğŸ“ é¡¹ç›®ç»“æ„

```
admin-frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx            # ä»ªè¡¨ç›˜é¦–é¡µ
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ page.tsx        # æ•°æ®åˆ†æé¡µé¢
â”‚   â”œâ”€â”€ sessions/
â”‚   â”‚   â””â”€â”€ page.tsx        # ä¼šè¯ç®¡ç†é¡µé¢
â”‚   â””â”€â”€ globals.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ DashboardStats.tsx  # ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ UsageChart.tsx      # ä½¿ç”¨è¶‹åŠ¿å›¾è¡¨
â”‚   â”œâ”€â”€ RecentErrors.tsx    # æœ€è¿‘é”™è¯¯åˆ—è¡¨
â”‚   â””â”€â”€ SessionList.tsx     # ä¼šè¯åˆ—è¡¨ç»„ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ next.config.js
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd admin-frontend
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
NEXT_PUBLIC_API_BASE_URL=https://aiadmin.usdt2026.cc
```

### 3. å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—®: http://localhost:3006

### 4. æ„å»ºå’Œéƒ¨ç½²

```bash
# æ„å»º
npm run build

# ç”Ÿäº§æ¨¡å¼ï¼ˆç«¯å£ 3006ï¼‰
npm start
```

## ğŸ“Š åŠŸèƒ½é¡µé¢

### 1. ä»ªè¡¨ç›˜ (/)

**åŠŸèƒ½**:
- æ€»è¯·æ±‚æ•°ç»Ÿè®¡
- æ€» Token æ•°ç»Ÿè®¡
- æ€»æˆæœ¬ç»Ÿè®¡
- æˆåŠŸç‡ç»Ÿè®¡
- ä½¿ç”¨è¶‹åŠ¿å›¾è¡¨ï¼ˆæœ€è¿‘ 7 å¤©ï¼‰
- æœ€è¿‘é”™è¯¯åˆ—è¡¨
- ä¼šè¯æŸ¥è¯¢

### 2. æ•°æ®åˆ†æ (/analytics)

**åŠŸèƒ½**:
- æä¾›å•†è¯·æ±‚æ•°å¯¹æ¯”ï¼ˆæŸ±çŠ¶å›¾ï¼‰
- æä¾›å•†æˆæœ¬å¯¹æ¯”ï¼ˆæŸ±çŠ¶å›¾ï¼‰
- æˆåŠŸç‡å¯¹æ¯”ï¼ˆæŸ±çŠ¶å›¾ï¼‰
- æä¾›å•†åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰
- è¯¦ç»†ç»Ÿè®¡è¡¨æ ¼

### 3. ä¼šè¯ç®¡ç† (/sessions)

**åŠŸèƒ½**:
- ä¼šè¯ ID æŸ¥è¯¢
- ä¼šè¯è¯¦æƒ…å±•ç¤º
- ä¼šè¯ç»Ÿè®¡ä¿¡æ¯

## ğŸ”Œ API é›†æˆ

### ä½¿ç”¨çš„ API ç«¯ç‚¹

1. **ä½¿ç”¨æ‘˜è¦**
   ```
   GET /api/v1/ai-monitoring/summary?days=7
   ```

2. **æ¯æ—¥ç»Ÿè®¡**
   ```
   GET /api/v1/ai-monitoring/daily?days=7
   ```

3. **æä¾›å•†ç»Ÿè®¡**
   ```
   GET /api/v1/ai-monitoring/providers?days=7
   ```

4. **æœ€è¿‘é”™è¯¯**
   ```
   GET /api/v1/ai-monitoring/recent-errors?limit=10
   ```

5. **ä¼šè¯ç»Ÿè®¡**
   ```
   GET /api/v1/ai-monitoring/session/{session_id}?days=30
   ```

## ğŸ¨ UI ç»„ä»¶

### DashboardStats
- æ˜¾ç¤º 4 ä¸ªç»Ÿè®¡å¡ç‰‡
- è‡ªåŠ¨åˆ·æ–°æ•°æ®
- é”™è¯¯å¤„ç†å’Œé‡è¯•

### UsageChart
- ä½¿ç”¨ Recharts ç»˜åˆ¶æŠ˜çº¿å›¾
- æ˜¾ç¤ºè¯·æ±‚æ•°å’Œ Token æ•°è¶‹åŠ¿
- å“åº”å¼è®¾è®¡

### RecentErrors
- æ˜¾ç¤ºæœ€è¿‘ 10 æ¡é”™è¯¯
- é”™è¯¯ä¿¡æ¯æˆªæ–­æ˜¾ç¤º
- æ—¶é—´æ ¼å¼åŒ–

### SessionList
- ä¼šè¯ ID è¾“å…¥æŸ¥è¯¢
- ä¼šè¯è¯¦æƒ…å±•ç¤º
- æä¾›å•†å’Œæ¨¡å‹åˆ†å¸ƒ

## ğŸ“± å“åº”å¼è®¾è®¡

- **ç§»åŠ¨ç«¯**: å•åˆ—å¸ƒå±€
- **å¹³æ¿**: 2 åˆ—å¸ƒå±€
- **æ¡Œé¢**: 4 åˆ—å¸ƒå±€ï¼ˆç»Ÿè®¡å¡ç‰‡ï¼‰

## ğŸ”§ å¼€å‘å»ºè®®

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `app/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. åˆ›å»º `page.tsx` æ–‡ä»¶
3. åœ¨å¯¼èˆªæ æ·»åŠ é“¾æ¥

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `components/` ç›®å½•ä¸‹åˆ›å»ºç»„ä»¶æ–‡ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰æ¥å£
3. ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡

### API è°ƒç”¨

ä½¿ç”¨ Axios è¿›è¡Œ API è°ƒç”¨ï¼š

```typescript
import axios from 'axios';

const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'https://aiadmin.usdt2026.cc';

const response = await axios.get(`${API_BASE_URL}/api/v1/ai-monitoring/summary?days=7`);
```

## ğŸš¢ éƒ¨ç½²

### éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

1. æ„å»ºé¡¹ç›®: `npm run build`
2. å¯åŠ¨æœåŠ¡: `npm start` (ç«¯å£ 3006)
3. é…ç½® Nginx åå‘ä»£ç†åˆ°ç«¯å£ 3006
4. è®¿é—®: `https://aiadmin.usdt2026.cc/admin`

### PM2 éƒ¨ç½²

```bash
pm2 start npm --name "admin-frontend" -- start
```

## ğŸ“ å¾…å®Œå–„åŠŸèƒ½

1. **ç”¨æˆ·è®¤è¯**: æ·»åŠ ç™»å½•å’Œæƒé™ç®¡ç†
2. **å®æ—¶æ›´æ–°**: WebSocket æˆ– SSE å®æ—¶æ•°æ®æ›´æ–°
3. **æ•°æ®å¯¼å‡º**: å¯¼å‡ºç»Ÿè®¡æ•°æ®ä¸º CSV/Excel
4. **é«˜çº§ç­›é€‰**: æŒ‰æ—¶é—´èŒƒå›´ã€ç«™ç‚¹ã€æä¾›å•†ç­›é€‰
5. **å‘Šè­¦è®¾ç½®**: æˆæœ¬è¶…é™ã€é”™è¯¯ç‡å‘Šè­¦

---

**æœ€åæ›´æ–°**: 2025-12-23

