# 立即執行 - 檢查和測試

> **日期**: 2025-12-01

---

## 步驟 1: 檢查當前後端狀態

```bash
# 檢查後端進程
ps aux | grep uvicorn | grep -v grep

# 檢查服務是否響應
curl http://localhost:8000/health
```

---

## 步驟 2: 測試修復（修正的命令）

如果後端正在運行，直接測試：

```bash
# 獲取 Token
TOKEN=$(curl -s -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@example.com&password=changeme123" | \
  python3 -c "import sys, json; print(json.loads(sys.stdin.read()).get('access_token', ''))")

# 測試（修正版本 - 分開獲取狀態碼和響應）
echo "=== 測試賬號狀態端點 ==="
curl -s -o /tmp/response.json -w "\nHTTP狀態碼: %{http_code}\n" \
  -H "Authorization: Bearer $TOKEN" \
  "http://localhost:8000/api/v1/group-ai/accounts/639454959591/status"

echo ""
echo "響應內容:"
python3 -m json.tool /tmp/response.json
```

---

## 步驟 3: 如果需要重啟後端

```bash
# 停止現有進程
pkill -f "uvicorn.*app.main:app"
sleep 3

# 找到後端目錄並啟動（根據實際路徑調整）
cd /opt/group-ai/admin-backend  # 或實際路徑
source ../.venv/bin/activate  # 或相應虛擬環境
nohup python3 -m uvicorn app.main:app --host 0.0.0.0 --port 8000 > /tmp/backend.log 2>&1 &
sleep 5
```

---

**先執行步驟 1 和步驟 2，告訴我結果！**
