@echo off
chcp 65001 >nul
REM ============================================================
REM 完整自動化測試和修復（本地開發環境 - Windows）
REM ============================================================
REM 
REM 運行環境：本地 Windows 開發環境
REM 功能：全自動測試所有功能，監測運行日誌，自動修復錯誤
REM 
REM 一鍵執行：雙擊此文件
REM 分步執行：見下方說明
REM ============================================================

cd /d "%~dp0\..\..\admin-backend"

echo ============================================================
echo 🤖 完整自動化測試和修復系統
echo ============================================================
echo.

echo 執行全自動測試和修復...
python scripts\auto_test_and_fix.py

if %ERRORLEVEL% EQU 0 (
    echo.
    echo ============================================================
    echo ✅ 所有測試通過！系統運行完美！
    echo ============================================================
) else (
    echo.
    echo ============================================================
    echo ⚠️ 發現問題，請檢查上述輸出
    echo ============================================================
)

echo.
echo 服務地址：
echo   後端: http://localhost:8000
echo   前端: http://localhost:3000
echo   API 文檔: http://localhost:8000/docs
echo.
pause

REM ============================================================
REM 分步執行說明：
REM ============================================================
REM 
REM 步驟 1: 運行自動測試
REM   cd admin-backend
REM   python scripts\auto_test_and_fix.py
REM 
REM 步驟 2: 檢查測試結果
REM   查看輸出和日誌文件
REM 
REM 步驟 3: 驗證服務
REM   訪問 http://localhost:8000/docs
REM   訪問 http://localhost:3000
REM ============================================================

