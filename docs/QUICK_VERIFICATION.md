# å¿«é€ŸéªŒè¯æŒ‡å—

> **é—®é¢˜**: è„šæœ¬è¢«æ€æ­»ï¼Œä½†ç³»ç»Ÿå†…å­˜æ­£å¸¸

---

## ğŸ” å½“å‰çŠ¶æ€åˆ†æ

ä»æ‚¨çš„æ£€æŸ¥ç»“æœçœ‹ï¼š

### âœ… æ­£å¸¸çš„éƒ¨åˆ†
- **å†…å­˜ä½¿ç”¨ç‡**: 60%ï¼ˆæ­£å¸¸ï¼‰
- **Swap**: 4GB å·²å­˜åœ¨å¹¶æ­£å¸¸å·¥ä½œ
- **ç£ç›˜ç©ºé—´**: å……è¶³ï¼ˆ30% ä½¿ç”¨ç‡ï¼‰

### âš ï¸ é—®é¢˜
- **PM2 è¿›ç¨‹ä¸å­˜åœ¨**: backend å’Œ frontend æœåŠ¡æœªè¿è¡Œ
- **è„šæœ¬è¢«æ€æ­»**: å¯èƒ½æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸´æ—¶å†…å­˜å³°å€¼

---

## ğŸš€ ç«‹å³è§£å†³æ–¹æ¡ˆ

### 1. æ£€æŸ¥ PM2 æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥ PM2 æ˜¯å¦è¿è¡Œ
pm2 status

# å¦‚æœæœåŠ¡ä¸å­˜åœ¨ï¼Œå¯åŠ¨æœåŠ¡
cd /home/ubuntu/telegram-ai-system
pm2 start ecosystem.config.js
pm2 save
```

### 2. ä½¿ç”¨æœ€ç®€å•çš„éªŒè¯è„šæœ¬

```bash
# ä½¿ç”¨æœ€ç®€å•çš„è„šæœ¬ï¼ˆé¿å…å†…å­˜é—®é¢˜ï¼‰
bash scripts/server/simple_check.sh
```

### 3. æ‰‹åŠ¨å¿«é€Ÿæ£€æŸ¥ï¼ˆå¦‚æœè„šæœ¬è¿˜æ˜¯æœ‰é—®é¢˜ï¼‰

```bash
# 1. PM2 çŠ¶æ€
pm2 list

# 2. ç«¯å£æ£€æŸ¥
ss -tln | grep -E ":8000|:3000"

# 3. å¥åº·æ£€æŸ¥
curl http://localhost:8000/health
curl -I http://localhost:3000
```

---

## ğŸ“‹ åˆ†æ­¥éª¤éªŒè¯

### æ­¥éª¤ 1: æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ

```bash
pm2 list
```

**é¢„æœŸç»“æœ**:
- åº”è¯¥çœ‹åˆ° `backend` å’Œ `frontend` è¿›ç¨‹
- çŠ¶æ€åº”è¯¥æ˜¯ `online`

**å¦‚æœæ²¡æœ‰è¿›ç¨‹**:
```bash
cd /home/ubuntu/telegram-ai-system
pm2 start ecosystem.config.js
pm2 save
```

### æ­¥éª¤ 2: æ£€æŸ¥ç«¯å£

```bash
ss -tln | grep -E ":8000|:3000"
```

**é¢„æœŸç»“æœ**:
- åº”è¯¥çœ‹åˆ° `:8000` å’Œ `:3000` åœ¨ç›‘å¬

### æ­¥éª¤ 3: æ£€æŸ¥å¥åº·çŠ¶æ€

```bash
curl http://localhost:8000/health
```

**é¢„æœŸç»“æœ**:
- åº”è¯¥è¿”å› `{"status": "ok"}`

### æ­¥éª¤ 4: æ£€æŸ¥å‰ç«¯

```bash
curl -I http://localhost:3000
```

**é¢„æœŸç»“æœ**:
- åº”è¯¥è¿”å› HTTP 200ã€301 æˆ– 302

---

## ğŸ› ä¸ºä»€ä¹ˆè„šæœ¬è¿˜æ˜¯è¢«æ€æ­»ï¼Ÿ

å³ä½¿å†…å­˜ä½¿ç”¨ç‡æ­£å¸¸ï¼ˆ60%ï¼‰ï¼Œè„šæœ¬ä»å¯èƒ½è¢«æ€æ­»ï¼Œå› ä¸ºï¼š

1. **ä¸´æ—¶å†…å­˜å³°å€¼**: æ‰§è¡ŒæŸäº›å‘½ä»¤æ—¶å¯èƒ½ä¸´æ—¶å ç”¨å¤§é‡å†…å­˜
2. **è¿›ç¨‹é™åˆ¶**: ç³»ç»Ÿå¯èƒ½å¯¹å•ä¸ªè¿›ç¨‹æœ‰å†…å­˜é™åˆ¶
3. **å‘½ä»¤è¾“å‡ºç¼“å†²**: æŸäº›å‘½ä»¤ï¼ˆå¦‚ `pm2 list`ï¼‰å¯èƒ½äº§ç”Ÿå¤§é‡è¾“å‡º

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨æ›´ç®€å•çš„è„šæœ¬æˆ–æ‰‹åŠ¨åˆ†æ­¥æ£€æŸ¥

---

## âœ… æ¨èçš„éªŒè¯æµç¨‹

### æ–¹æ³• 1: ä½¿ç”¨ç®€å•è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /home/ubuntu/telegram-ai-system
git pull origin main
bash scripts/server/simple_check.sh
```

### æ–¹æ³• 2: æ‰‹åŠ¨æ£€æŸ¥ï¼ˆæœ€å¯é ï¼‰

```bash
# 1. PM2
pm2 list

# 2. ç«¯å£
ss -tln | grep -E ":8000|:3000"

# 3. å¥åº·
curl http://localhost:8000/health
```

### æ–¹æ³• 3: å¦‚æœæœåŠ¡æœªè¿è¡Œï¼Œå¯åŠ¨æœåŠ¡

```bash
cd /home/ubuntu/telegram-ai-system

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat ecosystem.config.js

# å¯åŠ¨æœåŠ¡
pm2 start ecosystem.config.js

# ä¿å­˜é…ç½®
pm2 save

# æ£€æŸ¥çŠ¶æ€
pm2 status
```

---

## ğŸ“Š éªŒè¯ç»“æœè®°å½•

### æœåŠ¡çŠ¶æ€
- [ ] PM2 æœåŠ¡: âœ… è¿è¡Œä¸­ / âŒ æœªè¿è¡Œ
- [ ] åç«¯ç«¯å£: âœ… ç›‘å¬ä¸­ / âŒ æœªç›‘å¬
- [ ] å‰ç«¯ç«¯å£: âœ… ç›‘å¬ä¸­ / âŒ æœªç›‘å¬
- [ ] å¥åº·æ£€æŸ¥: âœ… æ­£å¸¸ / âŒ å¼‚å¸¸

### å¦‚æœæœåŠ¡æœªè¿è¡Œ

1. **æ£€æŸ¥é…ç½®æ–‡ä»¶**:
   ```bash
   cat ecosystem.config.js
   ```

2. **æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®**:
   ```bash
   ls -la /home/ubuntu/telegram-ai-system/admin-backend/venv/bin/uvicorn
   ls -la /home/ubuntu/telegram-ai-system/saas-demo
   ```

3. **å¯åŠ¨æœåŠ¡**:
   ```bash
   pm2 start ecosystem.config.js
   pm2 save
   ```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

æ ¹æ®æ£€æŸ¥ç»“æœï¼š

1. **å¦‚æœæœåŠ¡æœªè¿è¡Œ**: å¯åŠ¨æœåŠ¡
2. **å¦‚æœæœåŠ¡è¿è¡Œä½†ç«¯å£æœªç›‘å¬**: æ£€æŸ¥æœåŠ¡æ—¥å¿—
3. **å¦‚æœä¸€åˆ‡æ­£å¸¸**: è¿›è¡ŒåŠŸèƒ½æµ‹è¯•

---

**æœ€åæ›´æ–°**: 2025-12-09

