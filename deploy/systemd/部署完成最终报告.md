# éƒ¨ç½²å®Œæˆæœ€ç»ˆæŠ¥å‘Š

**éƒ¨ç½²æ—¶é—´**: 2025-01-23  
**æœåŠ¡å™¨**: 165.154.254.99

## âœ… éƒ¨ç½²çŠ¶æ€ï¼šæˆåŠŸ

### æœåŠ¡çŠ¶æ€

| æœåŠ¡ | çŠ¶æ€ | ç«¯å£ | å¤–éƒ¨è®¿é—® |
|------|------|------|----------|
| åç«¯ | âœ… Active | 0.0.0.0:8000 | âœ… HTTP 200 |
| å‰ç«¯ | âœ… Active | 0.0.0.0:3000 | âœ… HTTP 200 |

### éªŒè¯ç»“æœ

- âœ… **æœåŠ¡çŠ¶æ€**: ä¸¤ä¸ªæœåŠ¡å‡ä¸º Active
- âœ… **ç«¯å£ç›‘å¬**: æ­£ç¡®ç»‘å®šåˆ° 0.0.0.0ï¼ˆæ‰€æœ‰æ¥å£ï¼‰
- âœ… **æœ¬åœ°å¥åº·æ£€æŸ¥**: 
  - åç«¯: `{"status":"ok"}`
  - å‰ç«¯: HTTP 200
- âœ… **å¤–éƒ¨è®¿é—®æµ‹è¯•**: HTTP 200ï¼ˆé€šè¿‡ï¼‰

### è®¿é—®åœ°å€

- **åç«¯ API**: http://165.154.254.99:8000
- **å‰ç«¯ç•Œé¢**: http://165.154.254.99:3000
- **API æ–‡æ¡£**: http://165.154.254.99:8000/docs

## ğŸ“‹ å·²å®Œæˆçš„ä»»åŠ¡

1. âœ… å‡çº§ Node.js åˆ° 20.x (v20.19.6)
2. âœ… ä¸Šä¼ å®Œæ•´çš„åç«¯ä»£ç ï¼ˆadmin-backend + group_ai_serviceï¼‰
3. âœ… ä¸Šä¼ å®Œæ•´çš„å‰ç«¯ä»£ç ï¼ˆsaas-demoï¼‰
4. âœ… å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆpyrogram, pyyaml, openai ç­‰ï¼‰
5. âœ… ä¸Šä¼  utils æ¨¡å—
6. âœ… é…ç½®åç«¯ .env æ–‡ä»¶
7. âœ… é…ç½®å‰ç«¯ .env.local æ–‡ä»¶
8. âœ… æ„å»ºå‰ç«¯åº”ç”¨ï¼ˆstandalone æ¨¡å¼ï¼‰
9. âœ… é…ç½® systemd æœåŠ¡
10. âœ… ä¿®å¤ Next.js standalone å¯åŠ¨æ–¹å¼
11. âœ… ç¡®ä¿æœåŠ¡ç»‘å®šåˆ° 0.0.0.0
12. âœ… é…ç½®é˜²ç«å¢™è§„åˆ™
13. âœ… å¯åŠ¨å¹¶éªŒè¯æœåŠ¡

## ğŸ”§ æœåŠ¡ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status smart-tg-backend
sudo systemctl status smart-tg-frontend

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u smart-tg-backend -f
sudo journalctl -u smart-tg-frontend -f

# é‡å¯æœåŠ¡
sudo systemctl restart smart-tg-backend
sudo systemctl restart smart-tg-frontend

# åœæ­¢æœåŠ¡
sudo systemctl stop smart-tg-backend
sudo systemctl stop smart-tg-frontend
```

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### åç«¯æœåŠ¡
- **å¯åŠ¨æ–¹å¼**: Gunicorn + Uvicorn Workers
- **å·¥ä½œè¿›ç¨‹æ•°**: 4
- **ç»‘å®šåœ°å€**: 0.0.0.0:8000
- **è™šæ‹Ÿç¯å¢ƒ**: `/home/ubuntu/admin-backend/.venv`
- **Python è·¯å¾„**: `/home/ubuntu:/home/ubuntu/admin-backend`

### å‰ç«¯æœåŠ¡
- **å¯åŠ¨æ–¹å¼**: Next.js Standalone Server
- **å¯åŠ¨å‘½ä»¤**: `node .next/standalone/server.js`
- **ç»‘å®šåœ°å€**: 0.0.0.0:3000
- **Node.js ç‰ˆæœ¬**: v20.19.6 (é€šè¿‡ nvm)

### é˜²ç«å¢™è§„åˆ™
- âœ… TCP:3000 (å‰ç«¯) - å·²é…ç½®
- âœ… TCP:8000 (åç«¯) - å·²é…ç½®
- âœ… TCP:22 (SSH) - å·²é…ç½®

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

ç³»ç»Ÿå·²æˆåŠŸéƒ¨ç½²å¹¶è¿è¡Œã€‚å‰ç«¯å’Œåç«¯éƒ½å¯ä»¥æ­£å¸¸è®¿é—®ã€‚

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡æ—¥å¿—: `sudo journalctl -u smart-tg-backend -f`
2. ç«¯å£ç›‘å¬: `sudo ss -tlnp | grep -E ':8000|:3000'`
3. é˜²ç«å¢™è§„åˆ™: åœ¨äº‘æœåŠ¡å™¨æ§åˆ¶å°æ£€æŸ¥å®‰å…¨ç»„

