# Smart TG Business AI 安全準則（本地開發版）

## 1. 敏感資訊類型
- API Key / Token（OpenAI、Telegram、騰訊等）
- 資料庫憑證、連線字串
- 私密憑證檔案（`.pem`、`.pfx` 等）
- 個資或機密業務資料

## 2. 本地提交規範
1. 所有敏感配置必須存於 `.env`，不得硬編碼。
2. 禁止將 `.env`、私鑰、備份等檔案加入版本庫。
3. 提交前確認無敏感資訊出現在程式碼、日誌或測試檔。

## 3. Detect-Secrets 使用流程
1. 安裝工具：
   ```bash
   pip install pre-commit detect-secrets
   pre-commit install
   ```
2. 每次 `git commit` 會自動啟動掃描。
3. 若發現敏感資訊，請立即移除並重置相關憑證。
4. 如為誤報，可執行：
   ```bash
   detect-secrets audit .secrets.baseline
   ```
   進行審核並更新基準檔。

## 4. 常見誤報處理
- 允許的測試密鑰：可在程式碼中註明 `pragma: allowlist secret`。
- 模板檔案（如 `env.example`）：如被判定為敏感，可在基準檔中標記為 allowlist。

## 5. 密鑰洩漏處置
1. 立即重置被洩漏的密鑰或 Token。
2. 通知相關負責人與團隊。
3. 修正程式碼，補上 `.gitignore` 或改為環境變數。
4. 如敏感資訊已推送到遠端，需使用 `git filter-repo` 等工具清除歷史紀錄。

## 6. 後續升級預留
- 將來導入 CI/CD 時，可沿用本地配置。
- 可新增 Slack/Telegram 告警與周期掃描。
- 視需求導入更多掃描工具或 DLP 解決方案。

