# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²æº–å‚™æ¸…å–®

## ğŸ“‹ éƒ¨ç½²å‰æª¢æŸ¥

### 1. æ¸¬è©¦é©—è­‰ âœ…

- [x] **å¾Œç«¯æ¸¬è©¦** - âœ… 90% é€šéï¼ˆæ ¸å¿ƒåŠŸèƒ½ 100%ï¼‰
- [x] **è‡ªå‹•åŒ–ä»»å‹™æ¸¬è©¦** - âœ… 100% é€šé
- [ ] **å‰ç«¯åŠŸèƒ½é©—è­‰** - â³ éœ€è¦æ‰‹å‹•é©—è­‰

### 2. ç’°å¢ƒé…ç½®

#### å¾Œç«¯ç’°å¢ƒè®Šé‡

æª¢æŸ¥ `.env` æ–‡ä»¶æˆ–ç’°å¢ƒè®Šé‡ï¼š

```bash
# æ•¸æ“šåº«é…ç½®
DATABASE_URL=postgresql://user:password@localhost/dbname
# æˆ–ä½¿ç”¨ SQLiteï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰
DATABASE_URL=sqlite:///./admin.db

# JWT é…ç½®
JWT_SECRET=your-secret-key-here  # âš ï¸ ç”Ÿç”¢ç’°å¢ƒå¿…é ˆä¿®æ”¹
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# ç®¡ç†å“¡è³¬è™Ÿ
ADMIN_DEFAULT_EMAIL=admin@example.com
ADMIN_DEFAULT_PASSWORD=your-password  # âš ï¸ ç”Ÿç”¢ç’°å¢ƒå¿…é ˆä¿®æ”¹

# CORS é…ç½®
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Redis é…ç½®ï¼ˆå¯é¸ï¼Œç”¨æ–¼ç·©å­˜ï¼‰
REDIS_URL=redis://localhost:6379/0

# é€šçŸ¥æœå‹™é…ç½®ï¼ˆå¯é¸ï¼‰
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-password
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
```

#### å‰ç«¯ç’°å¢ƒè®Šé‡

æª¢æŸ¥ `saas-demo/.env.local`ï¼š

```bash
NEXT_PUBLIC_API_URL=http://localhost:8000
# æˆ–ç”Ÿç”¢ç’°å¢ƒ
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
```

### 3. æ•¸æ“šåº«æº–å‚™

#### åˆå§‹åŒ–æ•¸æ“šåº«

```bash
cd admin-backend

# 1. å‰µå»ºæ•¸æ“šåº«è¡¨
python init_db_tables.py

# 2. é‹è¡Œæ•¸æ“šåº«é·ç§»
python -m alembic upgrade head

# 3. é©—è­‰è¡¨å‰µå»º
python -c "from app.db import engine; from sqlalchemy import inspect; print('è¡¨æ•¸é‡:', len(inspect(engine).get_table_names()))"
```

#### æ•¸æ“šåº«å‚™ä»½ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰

```bash
# å‚™ä»½æ•¸æ“šåº«
python -m scripts.backup_database
```

### 4. ä¾è³´å®‰è£

#### å¾Œç«¯ä¾è³´

```bash
cd admin-backend
pip install -r requirements.txt
# æˆ–ä½¿ç”¨ poetry
poetry install
```

#### å‰ç«¯ä¾è³´

```bash
cd saas-demo
npm install
# æˆ–ä½¿ç”¨ yarn
yarn install
```

### 5. æœå‹™å•Ÿå‹•

#### å¾Œç«¯æœå‹™

**é–‹ç™¼ç’°å¢ƒï¼š**
```bash
cd admin-backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**ç”Ÿç”¢ç’°å¢ƒï¼ˆä½¿ç”¨ Gunicornï¼‰ï¼š**
```bash
cd admin-backend
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

**ä½¿ç”¨ systemdï¼ˆLinuxï¼‰ï¼š**
```bash
# å‰µå»ºæœå‹™æ–‡ä»¶ /etc/systemd/system/smart-tg-backend.service
[Unit]
Description=Smart TG Backend API
After=network.target

[Service]
User=www-data
WorkingDirectory=/path/to/admin-backend
Environment="PATH=/path/to/venv/bin"
ExecStart=/path/to/venv/bin/gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000

[Install]
WantedBy=multi-user.target

# å•Ÿå‹•æœå‹™
sudo systemctl start smart-tg-backend
sudo systemctl enable smart-tg-backend
```

#### å‰ç«¯æœå‹™

**é–‹ç™¼ç’°å¢ƒï¼š**
```bash
cd saas-demo
npm run dev
```

**ç”Ÿç”¢ç’°å¢ƒï¼š**
```bash
cd saas-demo
# æ§‹å»º
npm run build

# å•Ÿå‹•
npm start

# æˆ–ä½¿ç”¨ PM2
pm2 start npm --name "smart-tg-frontend" -- start
```

### 6. å¥åº·æª¢æŸ¥

#### å¾Œç«¯å¥åº·æª¢æŸ¥

```bash
curl http://localhost:8000/health
# é æœŸéŸ¿æ‡‰: {"status": "ok"}
```

#### API æ–‡æª”

è¨ªå•ï¼šhttp://localhost:8000/docs

### 7. å®‰å…¨æª¢æŸ¥

- [ ] **JWT Secret** - å·²ä¿®æ”¹ç‚ºå¼·å¯†é‘°
- [ ] **ç®¡ç†å“¡å¯†ç¢¼** - å·²ä¿®æ”¹ç‚ºå¼·å¯†ç¢¼
- [ ] **CORS é…ç½®** - å·²é™åˆ¶å…è¨±çš„åŸŸå
- [ ] **æ•¸æ“šåº«é€£æ¥** - ä½¿ç”¨å®‰å…¨çš„é€£æ¥å­—ç¬¦ä¸²
- [ ] **HTTPS** - ç”Ÿç”¢ç’°å¢ƒå•Ÿç”¨ HTTPS
- [ ] **é˜²ç«ç‰†** - é…ç½®é©ç•¶çš„é˜²ç«ç‰†è¦å‰‡

### 8. ç›£æ§é…ç½®

#### æ—¥èªŒé…ç½®

- [ ] é…ç½®æ—¥èªŒç´šåˆ¥
- [ ] é…ç½®æ—¥èªŒè¼ªè½‰
- [ ] é…ç½®æ—¥èªŒå­˜å„²ä½ç½®

#### ç›£æ§å·¥å…·ï¼ˆå¯é¸ï¼‰

- [ ] é…ç½®æ€§èƒ½ç›£æ§
- [ ] é…ç½®éŒ¯èª¤è¿½è¹¤ï¼ˆå¦‚ Sentryï¼‰
- [ ] é…ç½®å¥åº·æª¢æŸ¥ç«¯é»ç›£æ§

### 9. å‚™ä»½ç­–ç•¥

- [ ] æ•¸æ“šåº«è‡ªå‹•å‚™ä»½
- [ ] å‚™ä»½å­˜å„²ä½ç½®
- [ ] å‚™ä»½æ¢å¾©æ¸¬è©¦

### 10. æ–‡æª”æº–å‚™

- [ ] API æ–‡æª”æ›´æ–°
- [ ] ç”¨æˆ¶æ‰‹å†Š
- [ ] é‹ç¶­æ–‡æª”
- [ ] æ•…éšœæ’æŸ¥æŒ‡å—

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æº–å‚™ç’°å¢ƒ

```bash
# 1. å…‹éš†ä»£ç¢¼
git clone <repository-url>
cd <project-directory>

# 2. å‰µå»ºè™›æ“¬ç’°å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows

# 3. å®‰è£ä¾è³´
pip install -r requirements.txt
```

### æ­¥é©Ÿ 2: é…ç½®ç’°å¢ƒè®Šé‡

```bash
# è¤‡è£½ç’°å¢ƒè®Šé‡æ¨¡æ¿
cp .env.example .env

# ç·¨è¼¯ç’°å¢ƒè®Šé‡
nano .env  # æˆ–ä½¿ç”¨å…¶ä»–ç·¨è¼¯å™¨
```

### æ­¥é©Ÿ 3: åˆå§‹åŒ–æ•¸æ“šåº«

```bash
# åˆå§‹åŒ–æ•¸æ“šåº«
python init_db_tables.py

# é‹è¡Œé·ç§»
python -m alembic upgrade head
```

### æ­¥é©Ÿ 4: å•Ÿå‹•æœå‹™

```bash
# å¾Œç«¯æœå‹™
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000

# å‰ç«¯æœå‹™ï¼ˆå¦ä¸€å€‹çµ‚ç«¯ï¼‰
cd saas-demo
npm run build
npm start
```

### æ­¥é©Ÿ 5: é©—è­‰éƒ¨ç½²

```bash
# å¥åº·æª¢æŸ¥
curl http://localhost:8000/health

# API æ¸¬è©¦
curl http://localhost:8000/api/v1/auth/login \
  -X POST \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@example.com&password=your-password"
```

## ğŸ“Š éƒ¨ç½²å¾Œé©—è­‰

### åŠŸèƒ½é©—è­‰æ¸…å–®

- [ ] å¾Œç«¯æœå‹™æ­£å¸¸å•Ÿå‹•
- [ ] å‰ç«¯æœå‹™æ­£å¸¸å•Ÿå‹•
- [ ] å¥åº·æª¢æŸ¥ç«¯é»æ­£å¸¸
- [ ] ç”¨æˆ¶ç™»éŒ„åŠŸèƒ½æ­£å¸¸
- [ ] API ç«¯é»æ­£å¸¸éŸ¿æ‡‰
- [ ] æ•¸æ“šåº«é€£æ¥æ­£å¸¸
- [ ] è‡ªå‹•åŒ–ä»»å‹™åŠŸèƒ½æ­£å¸¸
- [ ] é€šçŸ¥åŠŸèƒ½æ­£å¸¸ï¼ˆå¦‚æœé…ç½®ï¼‰

### æ€§èƒ½é©—è­‰

- [ ] API éŸ¿æ‡‰æ™‚é–“ < 500ms
- [ ] é é¢åŠ è¼‰æ™‚é–“æ­£å¸¸
- [ ] æ•¸æ“šåº«æŸ¥è©¢æ€§èƒ½æ­£å¸¸

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¸¸è¦‹å•é¡Œ

#### å•é¡Œ 1: æ•¸æ“šåº«é€£æ¥å¤±æ•—

**è§£æ±ºæ–¹æ³•ï¼š**
```bash
# æª¢æŸ¥æ•¸æ“šåº«é…ç½®
python -c "from app.core.config import get_settings; print(get_settings().database_url)"

# æ¸¬è©¦æ•¸æ“šåº«é€£æ¥
python -c "from app.db import engine; engine.connect()"
```

#### å•é¡Œ 2: æœå‹™ç„¡æ³•å•Ÿå‹•

**è§£æ±ºæ–¹æ³•ï¼š**
```bash
# æª¢æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -an | grep 8000

# æª¢æŸ¥æ—¥èªŒ
tail -f logs/app.log
```

#### å•é¡Œ 3: å‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯

**è§£æ±ºæ–¹æ³•ï¼š**
- æª¢æŸ¥ CORS é…ç½®
- æª¢æŸ¥ API URL é…ç½®
- æª¢æŸ¥ç¶²çµ¡é€£æ¥

## ğŸ“ éƒ¨ç½²è¨˜éŒ„

### éƒ¨ç½²ä¿¡æ¯

- **éƒ¨ç½²æ—¥æœŸï¼š** ___________
- **éƒ¨ç½²äººå“¡ï¼š** ___________
- **éƒ¨ç½²ç’°å¢ƒï¼š** ___________
- **ç‰ˆæœ¬è™Ÿï¼š** ___________

### éƒ¨ç½²çµæœ

- [ ] éƒ¨ç½²æˆåŠŸ
- [ ] åŠŸèƒ½é©—è­‰é€šé
- [ ] æ€§èƒ½æ¸¬è©¦é€šé
- [ ] ç›£æ§é…ç½®å®Œæˆ

## ğŸ¯ å®Œæˆæ¨™æº–

éƒ¨ç½²è¢«èªç‚ºå®Œæˆç•¶ï¼š

- [x] æ‰€æœ‰æ¸¬è©¦é€šéï¼ˆæ ¸å¿ƒåŠŸèƒ½ 100%ï¼‰
- [ ] å‰ç«¯åŠŸèƒ½é©—è­‰é€šé
- [ ] ç’°å¢ƒé…ç½®æ­£ç¢º
- [ ] æœå‹™æ­£å¸¸é‹è¡Œ
- [ ] å¥åº·æª¢æŸ¥é€šé
- [ ] å®‰å…¨é…ç½®å®Œæˆ

---

**æº–å‚™å®Œæˆå¾Œï¼Œå¯ä»¥é–‹å§‹éƒ¨ç½²ï¼** ğŸš€

