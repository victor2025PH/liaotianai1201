# å‰ç«¯æœåŠ¡å¯åŠ¨é—®é¢˜åˆ†æå’Œè§£å†³æ–¹æ¡ˆ

> **é—®é¢˜**: å‰ç«¯æœåŠ¡æ— æ³•å¯åŠ¨ï¼Œç«¯å£ 3000 è¿æ¥å¤±è´¥

---

## ğŸ” é—®é¢˜åˆ†æ

æ ¹æ®æ—¥å¿—æ˜¾ç¤ºï¼š
- åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œï¼ˆç«¯å£ 8000ï¼‰
- å‰ç«¯æœåŠ¡æ— æ³•è¿æ¥ï¼ˆç«¯å£ 3000 è¿æ¥å¤±è´¥ï¼‰
- æµè§ˆå™¨æ˜¾ç¤º 502 Bad Gateway

---

## ğŸ”§ å¯èƒ½çš„åŸå› 

1. **å‰ç«¯æœåŠ¡æœªå¯åŠ¨**
   - npm run dev å‘½ä»¤å¤±è´¥
   - è¿›ç¨‹å¯åŠ¨åç«‹å³é€€å‡º

2. **ä¾èµ–é—®é¢˜**
   - node_modules ä¸å­˜åœ¨æˆ–æŸå
   - ä¾èµ–å®‰è£…ä¸å®Œæ•´

3. **æ„å»ºé—®é¢˜**
   - .next ç›®å½•ä¸å­˜åœ¨æˆ–æŸå
   - æ„å»ºå¤±è´¥

4. **ç«¯å£å†²çª**
   - ç«¯å£ 3000 è¢«å…¶ä»–è¿›ç¨‹å ç”¨
   - æƒé™é—®é¢˜

5. **é…ç½®é—®é¢˜**
   - package.json ä¸­çš„è„šæœ¬é…ç½®é”™è¯¯
   - ç¯å¢ƒå˜é‡é—®é¢˜

---

## âœ… ä¿®å¤æ­¥éª¤

### æ­¥éª¤ 1: å®Œæ•´è¯Šæ–­

```bash
cd ~/liaotian/saas-demo

# æ£€æŸ¥ç›®å½•
pwd
ls -la package.json

# æ£€æŸ¥ Node.js
node --version
npm --version

# æ£€æŸ¥ä¾èµ–
ls -la node_modules | head -10

# æ£€æŸ¥æ„å»º
ls -la .next 2>/dev/null || echo ".next ä¸å­˜åœ¨"
```

### æ­¥éª¤ 2: é‡æ–°å®‰è£…ä¾èµ–

```bash
cd ~/liaotian/saas-demo

# æ¸…ç†å¹¶é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### æ­¥éª¤ 3: é‡æ–°æ„å»º

```bash
cd ~/liaotian/saas-demo

# æ¸…ç†å¹¶é‡æ–°æ„å»º
rm -rf .next
npm run build
```

### æ­¥éª¤ 4: ç›´æ¥å¯åŠ¨å¹¶æŸ¥çœ‹é”™è¯¯

```bash
cd ~/liaotian/saas-demo

# åœæ­¢ç°æœ‰è¿›ç¨‹
pkill -f "next.*dev\|node.*3000" || true

# ç›´æ¥è¿è¡ŒæŸ¥çœ‹é”™è¯¯
npm run dev
```

### æ­¥éª¤ 5: ä½¿ç”¨ä¿®å¤è„šæœ¬

å·²åˆ›å»ºçš„è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä¸Šè¿°æ­¥éª¤ï¼š

```bash
cd ~/liaotian
bash è¯Šæ–­å¹¶ä¿®å¤å‰ç«¯æœåŠ¡.sh
```

---

## ğŸ“‹ è¯¦ç»†æ—¥å¿—æ£€æŸ¥

æŸ¥çœ‹å‰ç«¯å¯åŠ¨æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å‰ç«¯æ—¥å¿—
ls -lht /tmp/frontend*.log

# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -100 /tmp/frontend_*.log | tail -100

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
tail -100 /tmp/frontend_detailed.log
```

---

## ğŸš€ å¿«é€Ÿä¿®å¤å‘½ä»¤

ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ•´ä¿®å¤ï¼š

```bash
cd ~/liaotian/saas-demo

# 1. åœæ­¢ç°æœ‰è¿›ç¨‹
pkill -f "next.*dev\|node.*3000" || true

# 2. æ¸…ç†ç«¯å£
sudo lsof -i :3000 | grep LISTEN | awk '{print $2}' | xargs kill -9 2>/dev/null || true

# 3. é‡æ–°å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
# rm -rf node_modules
# npm install

# 4. é‡æ–°æ„å»ºï¼ˆå¦‚æœéœ€è¦ï¼‰
# rm -rf .next
# npm run build

# 5. å¯åŠ¨æœåŠ¡
npm run dev > /tmp/frontend_final.log 2>&1 &

# 6. ç­‰å¾…å¹¶éªŒè¯
sleep 30
curl http://localhost:3000
```

---

## âš ï¸ å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

### é”™è¯¯ 1: Cannot find module

**è§£å†³æ–¹æ¡ˆ**:
```bash
rm -rf node_modules package-lock.json
npm install
```

### é”™è¯¯ 2: Port 3000 is already in use

**è§£å†³æ–¹æ¡ˆ**:
```bash
sudo lsof -i :3000
# æ‰¾åˆ° PIDï¼Œç„¶å
kill -9 <PID>
```

### é”™è¯¯ 3: Build failed

**è§£å†³æ–¹æ¡ˆ**:
```bash
rm -rf .next
npm run build
```

### é”™è¯¯ 4: Out of memory

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¢åŠ  Node.js å†…å­˜é™åˆ¶
NODE_OPTIONS="--max-old-space-size=4096" npm run dev
```

---

## ğŸ“ å½“å‰æ‰§è¡Œçš„ä¿®å¤

å·²åˆ›å»ºå¹¶æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼š

1. âœ… `è¯Šæ–­å¹¶ä¿®å¤å‰ç«¯æœåŠ¡.sh` - å®Œæ•´è¯Šæ–­å’Œä¿®å¤
2. âœ… `ç›´æ¥å¯åŠ¨å‰ç«¯æœåŠ¡-æŸ¥çœ‹è¯¦ç»†é”™è¯¯.sh` - æŸ¥çœ‹è¯¦ç»†é”™è¯¯

**è¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `/tmp/frontend_detailed.log` äº†è§£å…·ä½“é”™è¯¯ä¿¡æ¯ã€‚**

---

**æ‰€æœ‰è¯Šæ–­å’Œä¿®å¤è„šæœ¬å·²åˆ›å»ºå¹¶æ‰§è¡Œï¼**
