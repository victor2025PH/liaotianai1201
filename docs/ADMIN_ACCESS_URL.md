# ç®¡ç†åå°è®¿é—®åœ°å€é…ç½®

## ğŸŒ è®¿é—®åœ°å€

### ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰

- **ç®¡ç†åå°å‰ç«¯**: `https://aiadmin.usdt2026.cc/admin`
- **åç«¯ API**: `https://aiadmin.usdt2026.cc/api/v1/...`

### æœ¬åœ°æµ‹è¯•

- **ç®¡ç†åå°å‰ç«¯**: `http://æœåŠ¡å™¨IP:3006` æˆ– `http://127.0.0.1:3006`
- **åç«¯ API**: `http://æœåŠ¡å™¨IP:8000` æˆ– `http://127.0.0.1:8000`

## âš™ï¸ é…ç½®è¯´æ˜

### 1. æœåŠ¡ç›‘å¬åœ°å€

ç®¡ç†åå°ç°åœ¨é…ç½®ä¸ºç›‘å¬æ‰€æœ‰ç½‘ç»œæ¥å£ï¼ˆ`0.0.0.0`ï¼‰ï¼Œå…è®¸å¤–éƒ¨è®¿é—®ã€‚

**é…ç½®æ–‡ä»¶**: `admin-frontend/package.json`
```json
{
  "scripts": {
    "start": "next start -p 3006 -H 0.0.0.0"
  }
}
```

### 2. Nginx åå‘ä»£ç†é…ç½®

é€šè¿‡ Nginx é…ç½®ï¼Œç®¡ç†åå°å¯ä»¥é€šè¿‡åŸŸåè®¿é—®ï¼š

**é…ç½®è„šæœ¬**: `scripts/configure_admin_nginx.sh`

æ‰§è¡Œåä¼šè‡ªåŠ¨é…ç½®ï¼š
- `/admin` â†’ ç®¡ç†åå°å‰ç«¯ï¼ˆç«¯å£ 3006ï¼‰
- `/api` â†’ åç«¯ APIï¼ˆç«¯å£ 8000ï¼‰

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: é‡æ–°éƒ¨ç½²ç®¡ç†åå°

```bash
cd /home/ubuntu/telegram-ai-system
git pull origin main
bash scripts/deploy_admin_frontend.sh
```

### æ­¥éª¤ 2: é…ç½® Nginxï¼ˆå¦‚æœä½¿ç”¨åŸŸåè®¿é—®ï¼‰

```bash
bash scripts/configure_admin_nginx.sh
```

### æ­¥éª¤ 3: éªŒè¯è®¿é—®

```bash
# æµ‹è¯•æœ¬åœ°è®¿é—®
curl http://127.0.0.1:3006

# æµ‹è¯•åŸŸåè®¿é—®ï¼ˆå¦‚æœå·²é…ç½®ï¼‰
curl https://aiadmin.usdt2026.cc/admin
```

## ğŸ”§ ç«¯å£å’ŒåŸŸåæ˜ å°„

| æœåŠ¡ | ç«¯å£ | æœ¬åœ°è®¿é—® | åŸŸåè®¿é—® |
|------|------|----------|----------|
| ç®¡ç†åå°å‰ç«¯ | 3006 | `http://IP:3006` | `https://aiadmin.usdt2026.cc/admin` |
| åç«¯ API | 8000 | `http://IP:8000` | `https://aiadmin.usdt2026.cc/api` |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é˜²ç«å¢™**: ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å…è®¸ç«¯å£ 3006ï¼ˆå¦‚æœç›´æ¥è®¿é—®ï¼‰æˆ– 80/443ï¼ˆå¦‚æœé€šè¿‡ Nginxï¼‰

2. **SSL è¯ä¹¦**: å¦‚æœä½¿ç”¨ HTTPSï¼Œç¡®ä¿ SSL è¯ä¹¦å·²æ­£ç¡®é…ç½®

3. **DNS é…ç½®**: ç¡®ä¿ `aiadmin.usdt2026.cc` çš„ DNS è®°å½•æŒ‡å‘æœåŠ¡å™¨ IP

4. **ç›‘å¬åœ°å€**: æœåŠ¡ç°åœ¨ç›‘å¬ `0.0.0.0:3006`ï¼Œå…è®¸å¤–éƒ¨è®¿é—®

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ— æ³•é€šè¿‡ IP è®¿é—®

**æ£€æŸ¥**:
```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦åœ¨ç›‘å¬
netstat -tlnp | grep 3006

# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status
```

**è§£å†³**: ç¡®ä¿é˜²ç«å¢™å…è®¸ç«¯å£ 3006

### é—®é¢˜ 2: åŸŸåæ— æ³•è®¿é—®

**æ£€æŸ¥**:
```bash
# æ£€æŸ¥ Nginx é…ç½®
sudo nginx -t

# æ£€æŸ¥ Nginx æ˜¯å¦è¿è¡Œ
sudo systemctl status nginx

# æ£€æŸ¥åŸŸåè§£æ
nslookup aiadmin.usdt2026.cc
```

**è§£å†³**: è¿è¡Œ `bash scripts/configure_admin_nginx.sh` é…ç½® Nginx

### é—®é¢˜ 3: è¿æ¥è¢«æ‹’ç»

**æ£€æŸ¥**:
```bash
# æ£€æŸ¥ PM2 è¿›ç¨‹
pm2 list | grep admin-frontend

# æ£€æŸ¥æ—¥å¿—
pm2 logs admin-frontend --lines 50
```

**è§£å†³**: ç¡®ä¿æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸”ç›‘å¬ `0.0.0.0` è€Œä¸æ˜¯ `127.0.0.1`

---

**æœ€åæ›´æ–°**: 2025-12-24

