# éƒ¨ç½²æˆåŠŸæŠ¥å‘Š

**éƒ¨ç½²æ—¶é—´**: 2025-01-23

## âœ… éƒ¨ç½²çŠ¶æ€

### æœåŠ¡çŠ¶æ€
- **åç«¯æœåŠ¡**: âœ… Active (è¿è¡Œä¸­)
- **å‰ç«¯æœåŠ¡**: âœ… Active (è¿è¡Œä¸­)

### ç«¯å£ç›‘å¬
- **åç«¯ç«¯å£ 8000**: âœ… æ­£åœ¨ç›‘å¬ (0.0.0.0:8000)
- **å‰ç«¯ç«¯å£ 3000**: âœ… æ­£åœ¨ç›‘å¬ (*:3000)

### å¥åº·æ£€æŸ¥
- **åç«¯å¥åº·æ£€æŸ¥**: âœ… `{"status":"ok"}`
- **å‰ç«¯æœ¬åœ°è®¿é—®**: âœ… HTTP 200
- **åç«¯å¤–éƒ¨è®¿é—®**: âœ… HTTP 200

## ğŸŒ è®¿é—®åœ°å€

- **åç«¯ API**: http://165.154.254.99:8000
- **å‰ç«¯ç•Œé¢**: http://165.154.254.99:3000
- **API æ–‡æ¡£**: http://165.154.254.99:8000/docs

## âš ï¸ æ³¨æ„äº‹é¡¹

### å‰ç«¯å¤–éƒ¨è®¿é—®é—®é¢˜

å¦‚æœæ— æ³•ä»å¤–éƒ¨è®¿é—®å‰ç«¯ï¼ˆè¿”å› HTTP 000ï¼‰ï¼Œè¯·æ£€æŸ¥ï¼š

1. **äº‘æœåŠ¡å™¨å®‰å…¨ç»„è®¾ç½®**
   - ç¡®ä¿å®‰å…¨ç»„å¼€æ”¾äº† 3000 ç«¯å£ï¼ˆTCPï¼‰
   - ç¡®ä¿å®‰å…¨ç»„å¼€æ”¾äº† 8000 ç«¯å£ï¼ˆTCPï¼‰

2. **æœåŠ¡å™¨é˜²ç«å¢™**
   ```bash
   sudo ufw status
   sudo ufw allow 3000/tcp
   sudo ufw allow 8000/tcp
   ```

3. **æœåŠ¡ç›‘å¬åœ°å€**
   - åç«¯å·²æ­£ç¡®ç»‘å®šåˆ° `0.0.0.0:8000` âœ…
   - å‰ç«¯åº”ç»‘å®šåˆ° `0.0.0.0:3000`ï¼ˆéœ€è¦æ£€æŸ¥ Next.js é…ç½®ï¼‰

## ğŸ“‹ å·²å®Œæˆçš„ä»»åŠ¡

1. âœ… å‡çº§ Node.js åˆ° 20.x
2. âœ… ä¸Šä¼ å®Œæ•´çš„åç«¯ä»£ç ï¼ˆåŒ…æ‹¬ group_ai_serviceï¼‰
3. âœ… ä¸Šä¼ å®Œæ•´çš„å‰ç«¯ä»£ç 
4. âœ… å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆpyrogram, pyyaml, openai ç­‰ï¼‰
5. âœ… ä¸Šä¼  utils æ¨¡å—
6. âœ… é…ç½®åç«¯ .env æ–‡ä»¶
7. âœ… é…ç½®å‰ç«¯ .env.local æ–‡ä»¶
8. âœ… æ„å»ºå‰ç«¯åº”ç”¨
9. âœ… é…ç½® systemd æœåŠ¡
10. âœ… å¯åŠ¨å¹¶éªŒè¯æœåŠ¡

## ğŸ”§ æœåŠ¡ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status smart-tg-backend
sudo systemctl status smart-tg-frontend

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u smart-tg-backend -f
sudo journalctl -u smart-tg-frontend -f

# é‡å¯æœåŠ¡
sudo systemctl restart smart-tg-backend
sudo systemctl restart smart-tg-frontend

# åœæ­¢æœåŠ¡
sudo systemctl stop smart-tg-backend
sudo systemctl stop smart-tg-frontend
```

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

ç³»ç»Ÿå·²æˆåŠŸéƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚å¦‚æœæ— æ³•ä»å¤–éƒ¨è®¿é—®ï¼Œè¯·æ£€æŸ¥äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„è®¾ç½®ã€‚

