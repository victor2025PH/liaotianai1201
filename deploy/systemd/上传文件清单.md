# 马尼拉服务器部署 - 上传文件清单

## 必须上传的文件/文件夹

### 1. 后端代码（二选一）

**选项A: 使用优化后的压缩包（推荐）**
- ✅ `admin-backend-deploy-clean.tar.gz` - 已优化的后端代码（约 0.26 MB）

**选项B: 使用完整后端目录**
- ✅ `full-backend-deploy/` - 完整后端代码目录（需要排除虚拟环境）

**注意**: 如果上传 `full-backend-deploy/` 目录，确保：
- ❌ 不包含 `.venv/` 或 `venv/` 目录
- ❌ 不包含 `__pycache__/` 目录
- ❌ 不包含 `.git/` 目录

### 2. 前端代码

- ✅ `frontend.zip` - 前端代码压缩包（约 28 MB）

## 可选文件（如果需要）

- `README.md` - 说明文档（可选）
- `docs/` - 文档目录（可选）

## 不需要上传的文件

- ❌ `admin-backend.zip` - 旧的后端压缩包
- ❌ `full-backend.zip` - 旧的后端压缩包
- ❌ `admin-backend-deploy/` - 如果使用压缩包，不需要上传目录
- ❌ `frontend-temp/` - 临时文件
- ❌ `deploy_packages/` - 部署包（不需要）
- ❌ `master/` - 主节点代码（不需要）
- ❌ `worker/` - 工作节点代码（不需要）
- ❌ `scripts/` - 脚本（不需要）
- ❌ `server_deploy/` - 服务器部署脚本（不需要）
- ❌ `shared/` - 共享文件（不需要）
- ❌ `firewall_rules.csv` - 防火墙规则（不需要）

## 推荐上传方式

### 方法1: 使用 SCP 上传（推荐）

在 PowerShell 执行：

```powershell
# 1. 上传优化后的后端
scp "C:\Users\Administrator\Desktop\liaotian20251126\admin-backend-deploy-clean.tar.gz" ubuntu@165.154.233.55:/home/ubuntu/

# 2. 上传前端
scp "C:\Users\Administrator\Desktop\liaotian20251126\frontend.zip" ubuntu@165.154.233.55:/home/ubuntu/
```

### 方法2: 上传完整后端目录（如果压缩包有问题）

```powershell
# 确保目录中不包含虚拟环境
# 然后上传
scp -r "C:\Users\Administrator\Desktop\liaotian20251126\full-backend-deploy" ubuntu@165.154.233.55:/home/ubuntu/

# 上传前端
scp "C:\Users\Administrator\Desktop\liaotian20251126\frontend.zip" ubuntu@165.154.233.55:/home/ubuntu/
```

## 上传后的文件结构

服务器上应该是：

```
/home/ubuntu/
├── admin-backend-deploy-clean.tar.gz  (或 full-backend-deploy/)
└── frontend.zip
```

## 上传完成后

上传完成后告诉我，我会运行自动化部署脚本：
1. 解压后端代码到 `/home/ubuntu/admin-backend`
2. 解压前端代码到 `/home/ubuntu/saas-demo`
3. 安装依赖
4. 配置环境变量
5. 构建前端
6. 启动服务

