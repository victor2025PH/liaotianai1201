# éƒ¨ç½²çŠ¶æ€æ€»ç»“

## âœ… Git Pull å†²çªå·²è§£å†³

**æ—¶é—´**: 2025-12-23  
**çŠ¶æ€**: æˆåŠŸä¿®å¤

### ä¿®å¤è¿‡ç¨‹

1. **æ‰‹åŠ¨æ‰§è¡Œä¿®å¤å‘½ä»¤**ï¼š
   ```bash
   git stash
   rm -rf aizkw20251219 hbwy20251220 tgmini20251220
   git clean -fd
   git fetch origin main
   git reset --hard origin/main
   ```

2. **éªŒè¯ç»“æœ**ï¼š
   - âœ… HEAD ç°åœ¨åœ¨ `67d6569` (docs: æ·»åŠ æœåŠ¡å™¨ Git Pull å†²çªä¿®å¤è¯¦ç»†æŒ‡å—)
   - âœ… æ‰€æœ‰ç›®å½•å·²æ¢å¤
   - âœ… å·¥ä½œæ ‘å¹²å‡€
   - âœ… ä¸è¿œç¨‹ä»“åº“åŒæ­¥

### å½“å‰ä»“åº“çŠ¶æ€

- **åˆ†æ”¯**: `main`
- **æœ€æ–°æäº¤**: `67d6569`
- **çŠ¶æ€**: ä¸ `origin/main` åŒæ­¥
- **å·¥ä½œæ ‘**: å¹²å‡€

## ğŸ“¦ å·²éƒ¨ç½²çš„åŠŸèƒ½

### 1. ä¸‰ä¸ªå‰ç«¯é¡¹ç›®
- âœ… `aizkw20251219/` - æ™ºæ§ç‹å±•ç¤ºç½‘ç«™
- âœ… `hbwy20251220/` - çº¢åŒ…æ¸¸æˆå±•ç¤ºç½‘ç«™
- âœ… `tgmini20251220/` - TON Mini App å±•ç¤ºç½‘ç«™

### 2. åç«¯æœåŠ¡
- âœ… `admin-backend/` - FastAPI åç«¯æœåŠ¡
  - AI ä»£ç† API
  - ä½¿ç”¨ç»Ÿè®¡å’Œç›‘æ§ API
  - ä¼šè¯ç®¡ç† API

### 3. ç®¡ç†åå°å‰ç«¯
- âœ… `admin-frontend/` - Next.js ç®¡ç†åå°
  - ä»ªè¡¨ç›˜é¡µé¢
  - æ•°æ®åˆ†æé¡µé¢
  - ä¼šè¯ç®¡ç†é¡µé¢

### 4. éƒ¨ç½²è„šæœ¬
- âœ… `scripts/deploy_full.sh` - å®Œæ•´éƒ¨ç½²è„šæœ¬
- âœ… `scripts/deploy_admin_frontend.sh` - ç®¡ç†åå°éƒ¨ç½²è„šæœ¬
- âœ… `scripts/force_pull_fix.sh` - Git å†²çªä¿®å¤è„šæœ¬

## ğŸš€ ä¸‹ä¸€æ­¥éƒ¨ç½²å»ºè®®

### 1. éƒ¨ç½²ç®¡ç†åå°å‰ç«¯

```bash
cd /home/ubuntu/telegram-ai-system
bash scripts/deploy_admin_frontend.sh
```

### 2. é…ç½® Nginx

æ·»åŠ åå‘ä»£ç†é…ç½®åˆ° `/etc/nginx/sites-available/default`ï¼š

```nginx
# ç®¡ç†åå°
location /admin {
    proxy_pass http://127.0.0.1:3001;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
}
```

ç„¶åé‡å¯ Nginxï¼š
```bash
sudo nginx -t
sudo systemctl reload nginx
```

### 3. è¿è¡Œæ•°æ®åº“è¿ç§»

å¦‚æœè¿˜æ²¡æœ‰è¿è¡Œ AI ä½¿ç”¨ç»Ÿè®¡çš„æ•°æ®åº“è¿ç§»ï¼š

```bash
cd /home/ubuntu/telegram-ai-system/admin-backend
source .venv/bin/activate
alembic upgrade head
```

### 4. éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥åç«¯æœåŠ¡
curl https://aiadmin.usdt2026.cc/api/v1/ai-monitoring/summary?days=7

# æ£€æŸ¥ç®¡ç†åå°
curl http://127.0.0.1:3001

# æ£€æŸ¥ PM2 è¿›ç¨‹
pm2 list
```

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ä¸‰ä¸ªå±•ç¤ºç½‘ç«™ (Frontend)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  aizkw.usdt2026.cc    (aizkw20251219)          â”‚
â”‚  hongbao.usdt2026.cc  (hbwy20251220)           â”‚
â”‚  tgmini.usdt2026.cc   (tgmini20251220)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ API è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç»Ÿä¸€åç«¯æœåŠ¡ (Backend)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  aiadmin.usdt2026.cc (admin-backend)            â”‚
â”‚  - AI ä»£ç† API                                   â”‚
â”‚  - ä½¿ç”¨ç»Ÿè®¡ API                                  â”‚
â”‚  - ä¼šè¯ç®¡ç† API                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ ç®¡ç†ç•Œé¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç®¡ç†åå° (Admin Frontend)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  aiadmin.usdt2026.cc/admin (admin-frontend)     â”‚
â”‚  - ä»ªè¡¨ç›˜                                        â”‚
â”‚  - æ•°æ®åˆ†æ                                      â”‚
â”‚  - ä¼šè¯ç®¡ç†                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ç»´æŠ¤å‘½ä»¤

### æ›´æ–°ä»£ç 

```bash
cd /home/ubuntu/telegram-ai-system
git pull origin main
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯æ‰€æœ‰ PM2 è¿›ç¨‹
pm2 restart all

# æˆ–é‡å¯ç‰¹å®šæœåŠ¡
pm2 restart saas-demo-frontend
pm2 restart admin-frontend
pm2 restart luckyred-api
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# PM2 æ—¥å¿—
pm2 logs

# ç‰¹å®šæœåŠ¡æ—¥å¿—
pm2 logs admin-frontend
pm2 logs saas-demo-frontend
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡**: ç¡®ä¿æœåŠ¡å™¨ä¸Šçš„ `.env` æ–‡ä»¶å·²æ­£ç¡®é…ç½®
2. **æ–‡ä»¶æƒé™**: ç¡®ä¿ PM2 è¿›ç¨‹æœ‰æƒé™è®¿é—®æ‰€æœ‰å¿…è¦æ–‡ä»¶
3. **ç«¯å£å ç”¨**: ç¡®ä¿ç«¯å£ 3001ï¼ˆç®¡ç†åå°ï¼‰ã€3005ï¼ˆsaas-demoï¼‰ã€8000ï¼ˆåç«¯ï¼‰æœªè¢«å ç”¨
4. **æ•°æ®åº“**: ç¡®ä¿æ•°æ®åº“è¿ç§»å·²æ‰§è¡Œ

---

**æœ€åæ›´æ–°**: 2025-12-23
