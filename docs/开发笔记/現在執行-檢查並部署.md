# 現在執行 - 檢查並部署

> **日期**: 2025-12-01

---

## 🔍 立即執行檢查

執行以下命令檢查服務器狀態：

```bash
BACKEND_DIR=$(find ~ -type d -name "admin-backend" -exec test -f {}/app/main.py \; -print 2>/dev/null | head -1) && \
if [ -n "$BACKEND_DIR" ]; then
    echo "後端目錄: $BACKEND_DIR"
    cd "$BACKEND_DIR"
    echo ""
    echo "是否為 Git 倉庫:"
    if [ -d ".git" ]; then
        echo "  ✅ 是 Git 倉庫"
        echo ""
        echo "當前分支:"
        git branch --show-current 2>/dev/null || git branch | grep "*"
        echo ""
        echo "檢查代碼是否包含修復:"
        if grep -q "檢查數據庫（包含遠程服務器賬號）" app/api/group_ai/accounts.py 2>/dev/null; then
            echo "  ✅ 包含修復（代碼已更新）"
            echo ""
            echo "需要重啟服務以加載新代碼:"
            echo "  pkill -f 'uvicorn.*app.main:app'"
            echo "  nohup python3 -m uvicorn app.main:app --host 0.0.0.0 --port 8000 > /tmp/backend.log 2>&1 &"
        else
            echo "  ❌ 不包含修復（舊代碼）"
            echo ""
            echo "需要拉取最新代碼:"
            echo "  git pull origin main  # 或 master"
        fi
    else
        echo "  ⚠️ 不是 Git 倉庫"
        echo ""
        echo "需要手動上傳修復的文件"
    fi
else
    echo "❌ 未找到後端目錄"
fi
```

---

**執行這個檢查命令，告訴我結果，我會根據結果提供具體的部署步驟！**
