# Telegram注册系统 - 前端功能测试指南

**测试日期**: 2025-11-22  
**测试状态**: ✅ **准备就绪**

---

## 📋 测试准备

### 前置条件

- ✅ 后端服务运行正常 (http://localhost:8000)
- ✅ 前端服务运行正常 (http://localhost:3000)
- ✅ 数据库连接正常
- ✅ 服务器配置正确

---

## 🚀 测试步骤

### 步骤1: 访问前端页面

1. **打开浏览器**
   - 推荐使用 Chrome、Firefox 或 Edge
   - 打开开发者工具 (F12)

2. **访问前端地址**
   ```
   http://localhost:3000
   ```

3. **预期结果**
   - ✅ 页面正常加载
   - ✅ 显示登录页面或仪表板（如果已登录）

---

### 步骤2: 登录系统

1. **如果未登录**
   - 输入管理员邮箱
   - 输入管理员密码
   - 点击"登录"按钮

2. **预期结果**
   - ✅ 登录成功
   - ✅ 跳转到仪表板页面
   - ✅ 显示用户信息

3. **如果已登录**
   - 直接进入下一步

---

### 步骤3: 进入账户中心

**方法1: 通过菜单**
1. 点击左侧菜单"账户中心"
2. 自动跳转到 `/accounts`

**方法2: 直接访问URL**
```
http://localhost:3000/accounts
```

**预期结果**
- ✅ 页面正常显示
- ✅ 显示3个标签页：
  - 账户列表
  - Telegram注册
  - 生成Session

---

### 步骤4: 测试Telegram注册功能

#### 4.1 切换到Telegram注册标签页

1. **点击"Telegram注册"标签页**

2. **预期结果**
   - ✅ 标签页切换成功
   - ✅ 显示注册表单
   - ✅ 显示步骤指示器（Steps）

#### 4.2 验证页面元素

**检查项**:
- [ ] 手机号输入框
- [ ] 国家代码输入框
- [ ] 服务器选择下拉框
- [ ] API ID输入框（可选）
- [ ] API Hash输入框（可选）
- [ ] 开始注册按钮
- [ ] 步骤指示器显示

#### 4.3 验证服务器列表加载

**检查项**:
- [ ] 服务器列表自动加载
- [ ] 显示服务器节点ID
- [ ] 显示服务器状态（在线/离线）
- [ ] 显示服务器账户数量

**预期结果**:
- ✅ 服务器列表正常加载
- ✅ 显示3个服务器（worker-01, los-angeles, manila）
- ✅ 服务器状态正确显示

---

### 步骤5: 测试表单验证

#### 5.1 测试必填字段验证

1. **不填写任何字段，直接点击"开始注册"**

2. **预期结果**
   - ✅ 显示验证错误提示
   - ✅ 手机号字段显示错误
   - ✅ 国家代码字段显示错误
   - ✅ 服务器字段显示错误

#### 5.2 测试手机号格式验证

1. **输入无效手机号**
   - 例如: `123` 或 `abc`

2. **预期结果**
   - ✅ 显示格式错误提示
   - ✅ 提示正确的手机号格式

#### 5.3 测试正常输入

1. **填写有效信息**
   - 手机号: `+1234567890` (使用真实手机号)
   - 国家代码: `+1`
   - 服务器: 选择一个服务器节点

2. **预期结果**
   - ✅ 表单验证通过
   - ✅ 可以点击"开始注册"按钮

---

### 步骤6: 测试注册启动功能

#### 6.1 启动注册

1. **填写完整信息**
   - 手机号: `+1234567890` (使用真实手机号)
   - 国家代码: `+1`
   - 服务器: 选择一个服务器节点

2. **点击"开始注册"按钮**

3. **预期结果**
   - ✅ 显示加载状态
   - ✅ 跳转到步骤2（验证码输入）
   - ✅ 显示倒计时
   - ✅ 显示风险评分
   - ✅ 显示注册ID

#### 6.2 验证状态显示

**检查项**:
- [ ] 步骤指示器更新到步骤2
- [ ] 显示验证码输入框
- [ ] 显示倒计时（如果有）
- [ ] 显示风险评分
- [ ] 显示错误提示（如果有）

---

### 步骤7: 测试验证码输入功能

#### 7.1 输入验证码

1. **查看手机收到的Telegram验证码**

2. **在输入框中输入验证码**

3. **点击"验证"按钮**

4. **预期结果**
   - ✅ 显示加载状态
   - ✅ 如果验证成功: 跳转到步骤3（完成）
   - ✅ 如果验证失败: 显示错误提示

#### 7.2 验证完成状态

**如果验证成功**:
- ✅ 步骤指示器更新到步骤3
- ✅ 显示成功信息
- ✅ 显示Session文件信息
- ✅ 显示文件路径
- ✅ 显示服务器节点

---

### 步骤8: 测试错误处理

#### 8.1 测试网络错误

1. **停止后端服务**
2. **尝试启动注册**
3. **预期结果**
   - ✅ 显示网络错误提示
   - ✅ 错误信息清晰易懂

#### 8.2 测试验证码错误

1. **输入错误的验证码**
2. **点击"验证"按钮**
3. **预期结果**
   - ✅ 显示验证失败提示
   - ✅ 允许重新输入验证码

#### 8.3 测试服务器离线

1. **选择离线状态的服务器**
2. **尝试启动注册**
3. **预期结果**
   - ✅ 显示服务器离线提示
   - ✅ 阻止注册启动

---

## 📊 测试检查清单

### 页面加载测试

- [ ] 前端页面可访问
- [ ] 登录功能正常
- [ ] 账户中心页面正常
- [ ] Telegram注册标签页正常显示

### 功能测试

- [ ] 服务器列表正常加载
- [ ] 表单字段正常显示
- [ ] 手机号格式验证
- [ ] 必填字段验证
- [ ] 开始注册功能
- [ ] 验证码输入功能
- [ ] 倒计时显示
- [ ] 风险评分显示
- [ ] 错误处理正常
- [ ] 完成注册功能

### UI/UX测试

- [ ] 页面布局正常
- [ ] 按钮样式正常
- [ ] 表单样式正常
- [ ] 步骤指示器正常
- [ ] 加载状态正常
- [ ] 错误提示清晰
- [ ] 响应式设计正常

---

## 🔍 浏览器控制台检查

### 检查错误

1. **打开开发者工具** (F12)
2. **查看Console标签页**
3. **检查是否有错误**

**预期结果**:
- ✅ 无JavaScript错误
- ✅ 无网络请求错误
- ✅ 无API调用错误

### 检查网络请求

1. **查看Network标签页**
2. **检查API请求**

**检查项**:
- [ ] 服务器列表API请求成功
- [ ] 注册启动API请求成功
- [ ] 验证码验证API请求成功
- [ ] 状态查询API请求成功

---

## 🐛 常见问题排查

### 问题1: 页面无法加载

**症状**: 访问 http://localhost:3000 显示无法连接

**解决方案**:
1. 检查前端服务是否运行: `netstat -ano | findstr :3000`
2. 重启前端服务: `cd admin-frontend && npm run dev`
3. 检查端口是否被占用

### 问题2: 服务器列表加载失败

**症状**: 显示"加载服务器列表失败"

**解决方案**:
1. 检查后端服务是否运行
2. 检查是否已登录（需要有效的token）
3. 检查浏览器控制台错误信息
4. 检查网络请求是否成功

### 问题3: 注册启动失败

**症状**: 点击"开始注册"后显示错误

**解决方案**:
1. 检查手机号格式是否正确
2. 检查服务器节点是否在线
3. 检查浏览器控制台错误信息
4. 检查后端日志

### 问题4: 验证码验证失败

**症状**: 输入验证码后显示错误

**解决方案**:
1. 确认验证码正确（注意大小写）
2. 检查验证码是否过期（通常5分钟内有效）
3. 检查浏览器控制台错误信息
4. 检查后端日志

---

## 📝 测试记录模板

### 测试环境

- **测试日期**: YYYY-MM-DD
- **测试人员**: [姓名]
- **浏览器**: [Chrome/Firefox/Edge]
- **浏览器版本**: [版本号]
- **后端版本**: [版本号]
- **前端版本**: [版本号]

### 测试结果

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 前端页面访问 | ✅/❌ | |
| 登录功能 | ✅/❌ | |
| 账户中心页面 | ✅/❌ | |
| 服务器列表加载 | ✅/❌ | |
| 表单验证 | ✅/❌ | |
| 注册启动 | ✅/❌ | |
| 验证码输入 | ✅/❌ | |
| 注册完成 | ✅/❌ | |
| 错误处理 | ✅/❌ | |

### 发现的问题

1. [问题描述]
   - 复现步骤:
   - 预期结果:
   - 实际结果:
   - 严重程度: [高/中/低]
   - 截图: [如有]

---

## ✅ 测试完成标准

- [x] 所有页面正常加载
- [ ] 所有功能正常运作
- [ ] 所有验证正常
- [ ] 所有错误处理正常
- [ ] 用户体验良好
- [ ] 无JavaScript错误
- [ ] 无网络请求错误

---

## 🚀 开始测试

**立即开始前端功能测试**:

1. 访问: http://localhost:3000/accounts
2. 登录系统
3. 点击"Telegram注册"标签页
4. 按照上述步骤进行测试

---

**测试指南创建日期**: 2025-11-22  
**状态**: ✅ 就绪  
**下一步**: 开始前端功能测试

