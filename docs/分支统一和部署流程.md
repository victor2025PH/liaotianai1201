# åˆ†æ”¯ç»Ÿä¸€å’Œä¸€æ¡é¾™éƒ¨ç½²éªŒè¯æµç¨‹

## ğŸ“‹ å½“å‰é—®é¢˜

ä»æˆªå›¾åˆ†æå‘ç°ï¼š
- **æœ¬åœ°**: ä½¿ç”¨ `main` åˆ†æ”¯ âœ…
- **GitHub**: ä½¿ç”¨ `main` åˆ†æ”¯ âœ…  
- **æœåŠ¡å™¨**: æœ‰ `main` å’Œ `master` ä¸¤ä¸ªåˆ†æ”¯ï¼Œå½“å‰åœ¨ `master` åˆ†æ”¯ âŒ

**é—®é¢˜**: æœåŠ¡å™¨åœ¨ `master` åˆ†æ”¯ï¼Œä½†æ‰€æœ‰æ›´æ–°éƒ½åœ¨ `main` åˆ†æ”¯ï¼Œå¯¼è‡´æ— æ³•åŒæ­¥ã€‚

---

## ğŸ¯ ç»Ÿä¸€åˆ†æ”¯æ–¹æ¡ˆ

### ç›®æ ‡ï¼šä¸‰ä¸ªç¯å¢ƒéƒ½ä½¿ç”¨ `main` åˆ†æ”¯

---

## ğŸ“ æ‰§è¡Œæ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæœåŠ¡å™¨ç»Ÿä¸€åˆ° main åˆ†æ”¯

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
cd ~/liaotian

# 1. æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€
git branch -a

# 2. å¦‚æœå½“å‰åœ¨ master åˆ†æ”¯ï¼Œå…ˆä¿å­˜ä»»ä½•æœªæäº¤çš„æ›´æ”¹
git status
git stash  # å¦‚æœæœ‰æœªæäº¤çš„æ›´æ”¹

# 3. åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# 4. å¦‚æœæœ¬åœ° main åˆ†æ”¯ä¸å­˜åœ¨ï¼Œä»è¿œç¨‹åˆ›å»º
# git checkout -b main origin/main

# 5. ç¡®ä¿æœ¬åœ° main è·Ÿè¸ªè¿œç¨‹ main
git branch --set-upstream-to=origin/main main

# 6. æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin main
git pull origin main

# 7. åˆ é™¤æœ¬åœ°çš„ master åˆ†æ”¯ï¼ˆå¯é€‰ï¼Œå¦‚æœä¸å†éœ€è¦ï¼‰
# git branch -d master  # å¦‚æœ master æ²¡æœ‰é‡è¦æ›´æ”¹

# 8. éªŒè¯å½“å‰åˆ†æ”¯
git branch
# åº”è¯¥æ˜¾ç¤º: * main

# 9. éªŒè¯è¿œç¨‹é…ç½®
git remote -v
# åº”è¯¥æ˜¾ç¤º: origin https://github.com/victor2025PH/liaotianai1201.git

# 10. éªŒè¯æ˜¯å¦åŒæ­¥
git status
# åº”è¯¥æ˜¾ç¤º: Your branch is up to date with 'origin/main'
```

### ç¬¬äºŒæ­¥ï¼šæœ¬åœ°ç¡®è®¤é…ç½®

åœ¨æœ¬åœ°ï¼ˆWindowsï¼‰æ‰§è¡Œï¼š

```powershell
cd D:\telegram-ai-system

# 1. ç¡®è®¤å½“å‰åˆ†æ”¯
git branch
# åº”è¯¥æ˜¾ç¤º: * main

# 2. ç¡®è®¤è¿œç¨‹é…ç½®
git remote -v

# 3. ç¡®è®¤æœ¬åœ°å’Œè¿œç¨‹åŒæ­¥
git status
# åº”è¯¥æ˜¾ç¤º: Your branch is up to date with 'origin/main'

# 4. å¦‚æœæœ‰æœªæ¨é€çš„æäº¤ï¼Œæ¨é€åˆ° GitHub
git push origin main
```

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ä¸‰ä¸ªç¯å¢ƒç»Ÿä¸€

#### æœ¬åœ°éªŒè¯ï¼š
```powershell
cd D:\telegram-ai-system
git branch
git log -1 --oneline
```

#### GitHub éªŒè¯ï¼š
è®¿é—® GitHub ä»“åº“é¡µé¢ï¼Œç¡®è®¤é»˜è®¤åˆ†æ”¯æ˜¯ `main`ã€‚

#### æœåŠ¡å™¨éªŒè¯ï¼š
```bash
cd ~/liaotian
git branch
git log -1 --oneline
git status
```

ä¸‰ä¸ªç¯å¢ƒåº”è¯¥æ˜¾ç¤ºç›¸åŒçš„åˆ†æ”¯åï¼ˆ`main`ï¼‰å’Œç›¸åŒçš„æœ€åä¸€æ¬¡æäº¤ã€‚

---

## ğŸš€ ä¸€æ¡é¾™éƒ¨ç½²éªŒè¯æµç¨‹

### æµç¨‹è¯´æ˜

```
æœ¬åœ°å¼€å‘ â†’ æ¨é€åˆ° GitHub â†’ æœåŠ¡å™¨è‡ªåŠ¨/æ‰‹åŠ¨æ‹‰å– â†’ è‡ªåŠ¨éªŒè¯ â†’ éƒ¨ç½²
```

### æ ‡å‡†åŒ–å‘½ä»¤é›†

#### 1. æœ¬åœ°å¼€å‘å®Œæˆåçš„æ¨é€æµç¨‹

```powershell
# åœ¨æœ¬åœ°æ‰§è¡Œ
cd D:\telegram-ai-system

# 1. æŸ¥çœ‹æ›´æ”¹
git status

# 2. æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# 3. æäº¤
git commit -m "ä½ çš„æäº¤ä¿¡æ¯"

# 4. æ¨é€åˆ° GitHub
git push origin main

# 5. éªŒè¯æ¨é€æˆåŠŸ
git log origin/main -1 --oneline
```

#### 2. æœåŠ¡å™¨æ‹‰å–å’ŒéªŒè¯æµç¨‹

```bash
# åœ¨æœåŠ¡å™¨æ‰§è¡Œ
cd ~/liaotian

# 1. ç¡®è®¤åœ¨ main åˆ†æ”¯
git branch
# å¦‚æœä¸åœ¨ main: git checkout main

# 2. è·å–è¿œç¨‹æ›´æ–°
git fetch origin main

# 3. æŸ¥çœ‹å°†è¦æ‹‰å–çš„æ›´æ”¹
git log HEAD..origin/main --oneline

# 4. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 5. éªŒè¯æ–‡ä»¶å®Œæ•´æ€§
ls -la scripts/server_git_check.sh
ls -la deploy/fix_and_deploy_frontend_complete.sh

# 6. æŸ¥çœ‹å½“å‰çŠ¶æ€
git status
git log -1 --oneline
```

#### 3. å®Œæ•´éƒ¨ç½²éªŒè¯æµç¨‹

```bash
# åœ¨æœåŠ¡å™¨æ‰§è¡Œ - ä¸€æ¡é¾™å‘½ä»¤
cd ~/liaotian && \
git checkout main && \
git fetch origin main && \
git pull origin main && \
echo "=== ä»£ç åŒæ­¥å®Œæˆ ===" && \
git log -1 --oneline && \
ls -la scripts/server_git_check.sh deploy/fix_and_deploy_frontend_complete.sh && \
echo "=== æ–‡ä»¶éªŒè¯å®Œæˆ ===" && \
bash deploy/fix_and_deploy_frontend_complete.sh
```

---

## âœ… éªŒè¯æ¸…å•

### ç»Ÿä¸€åˆ†æ”¯éªŒè¯

- [ ] æœ¬åœ°åˆ†æ”¯æ˜¯ `main`
- [ ] GitHub é»˜è®¤åˆ†æ”¯æ˜¯ `main`
- [ ] æœåŠ¡å™¨å½“å‰åˆ†æ”¯æ˜¯ `main`
- [ ] æœåŠ¡å™¨æœ¬åœ°æ²¡æœ‰ `master` åˆ†æ”¯ï¼ˆæˆ–å·²åˆ é™¤ï¼‰
- [ ] ä¸‰ä¸ªç¯å¢ƒæ˜¾ç¤ºç›¸åŒçš„æœ€åä¸€æ¬¡æäº¤

### åŒæ­¥éªŒè¯

- [ ] æœ¬åœ° `git status` æ˜¾ç¤º "up to date with 'origin/main'"
- [ ] GitHub ä¸Šèƒ½çœ‹åˆ°æœ€æ–°çš„æäº¤
- [ ] æœåŠ¡å™¨ `git status` æ˜¾ç¤º "up to date with 'origin/main'"
- [ ] æœåŠ¡å™¨èƒ½æˆåŠŸæ‹‰å–æœ€æ–°ä»£ç 

### æ–‡ä»¶å®Œæ•´æ€§éªŒè¯

- [ ] æœåŠ¡å™¨ä¸Šå­˜åœ¨ `scripts/server_git_check.sh`
- [ ] æœåŠ¡å™¨ä¸Šå­˜åœ¨ `deploy/fix_and_deploy_frontend_complete.sh`
- [ ] æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1: æœåŠ¡å™¨æ— æ³•åˆ‡æ¢åˆ° main åˆ†æ”¯

```bash
# å¦‚æœ main åˆ†æ”¯ä¸å­˜åœ¨
git fetch origin main
git checkout -b main origin/main
git branch --set-upstream-to=origin/main main
```

### é—®é¢˜ 2: æœåŠ¡å™¨æœ‰æœ¬åœ°æ›´æ”¹æ— æ³•åˆ‡æ¢åˆ†æ”¯

```bash
# ä¿å­˜æ›´æ”¹
git stash

# åˆ‡æ¢åˆ° main
git checkout main

# å¦‚æœéœ€è¦ï¼Œæ¢å¤æ›´æ”¹
git stash pop
```

### é—®é¢˜ 3: æœåŠ¡å™¨å’Œè¿œç¨‹ä¸åŒæ­¥

```bash
# å¼ºåˆ¶åŒæ­¥åˆ°è¿œç¨‹çŠ¶æ€ï¼ˆâš ï¸ ä¼šä¸¢å¤±æœ¬åœ°æœªæäº¤çš„æ›´æ”¹ï¼‰
git fetch origin main
git reset --hard origin/main
```

### é—®é¢˜ 4: GitHub é»˜è®¤åˆ†æ”¯ä¸æ˜¯ main

åœ¨ GitHub ç½‘é¡µä¸Šï¼š
1. è¿›å…¥ä»“åº“ Settings
2. ç‚¹å‡» Branches
3. åœ¨ Default branch ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© `main`
4. ç‚¹å‡» Update

---

## ğŸ“‹ æ ‡å‡†æ“ä½œæµç¨‹ï¼ˆSOPï¼‰

### æ—¥å¸¸å¼€å‘æµç¨‹

1. **æœ¬åœ°å¼€å‘**
   ```powershell
   cd D:\telegram-ai-system
   # å¼€å‘ä»£ç ...
   git add .
   git commit -m "æè¿°"
   git push origin main
   ```

2. **æœåŠ¡å™¨éƒ¨ç½²**
   ```bash
   cd ~/liaotian
   git checkout main
   git pull origin main
   # æ‰§è¡Œéƒ¨ç½²è„šæœ¬
   bash deploy/fix_and_deploy_frontend_complete.sh
   ```

### ç´§æ€¥ä¿®å¤æµç¨‹

1. **æœ¬åœ°ä¿®å¤å¹¶æ¨é€**
   ```powershell
   git add .
   git commit -m "ç´§æ€¥ä¿®å¤: é—®é¢˜æè¿°"
   git push origin main
   ```

2. **æœåŠ¡å™¨ç«‹å³æ‹‰å–å¹¶é‡å¯**
   ```bash
   cd ~/liaotian && git checkout main && git pull origin main && bash deploy/fix_and_deploy_frontend_complete.sh
   ```

---

## ğŸ¯ æœ€ç»ˆç›®æ ‡

å®ç°ï¼š
- âœ… ä¸‰ä¸ªç¯å¢ƒç»Ÿä¸€ä½¿ç”¨ `main` åˆ†æ”¯
- âœ… æœ¬åœ°æ¨é€ â†’ GitHub â†’ æœåŠ¡å™¨æ‹‰å– æ— ç¼è¡”æ¥
- âœ… ä¸€æ¡å‘½ä»¤å®Œæˆéƒ¨ç½²éªŒè¯
- âœ… ä¸ä¼šå†å‡ºç°åˆ†æ”¯ä¸åŒæ­¥çš„é—®é¢˜

---

**æœ€åæ›´æ–°**: 2025-12-07
