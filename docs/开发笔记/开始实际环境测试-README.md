# 開始實際環境測試

> **開始日期**: 2025-11-30  
> **目標**: 驗證所有核心功能在真實環境中的表現  
> **預計時間**: 3-5 天

---

## 🎯 測試目標

驗證以下 5 個核心功能在真實環境中的表現：

1. ✅ 多賬號協同邏輯
2. ✅ 劇本熱更新
3. ✅ 新成員檢測
4. ✅ 多輪對話增強
5. ✅ 回復質量優化

---

## 📋 快速開始

### 步驟 1: 檢查服務狀態

```bash
# 連接到測試服務器
ssh ubuntu@165.154.233.55

# 檢查後端服務
curl -I http://localhost:8000/health

# 檢查前端服務
curl -I http://localhost:3000

# 檢查服務進程
ps aux | grep -E 'uvicorn|next'
```

### 步驟 2: 準備測試數據

1. **創建測試劇本**
   - 通過前端界面創建
   - 或通過 API 創建

2. **準備測試賬號**
   - 確認有可用的 Telegram 賬號
   - 準備 session 文件

3. **準備測試群組**
   - 創建測試群組
   - 添加測試賬號到群組

### 步驟 3: 開始測試

按照 `docs/开发笔记/下一步开发计划-20251130.md` 中的任務清單執行。

---

## 🔍 測試檢查清單

### 多賬號協同邏輯 ✅

- [ ] 創建 2-3 個測試賬號
- [ ] 將賬號分配到同一群組
- [ ] 發送測試消息
- [ ] 驗證只有一個賬號回復
- [ ] 驗證不重複回復

### 劇本熱更新 ✅

- [ ] 創建測試劇本
- [ ] 啟動賬號並使用劇本
- [ ] 修改劇本內容
- [ ] 調用熱更新 API
- [ ] 驗證劇本已更新
- [ ] 驗證賬號狀態保留

### 新成員檢測 ✅

- [ ] 邀請新成員加入群組
- [ ] 驗證自動觸發歡迎消息
- [ ] 驗證劇本中的新成員觸發器

### 多輪對話增強 ✅

- [ ] 發送包含意圖的消息
- [ ] 驗證意圖識別正確
- [ ] 發送包含話題的消息
- [ ] 驗證話題檢測正確
- [ ] 測試情感分析

### 回復質量優化 ✅

- [ ] 連續發送相似消息
- [ ] 驗證回復多樣化
- [ ] 驗證不重複使用相同回復
- [ ] 驗證重複檢測機制

---

## 📝 問題記錄模板

如果發現問題，請記錄：

```markdown
## 問題 #1: [問題標題]

**發現時間**: YYYY-MM-DD HH:MM
**功能模塊**: [功能名稱]
**嚴重程度**: [高/中/低]
**問題描述**: 
[詳細描述問題]

**復現步驟**:
1. 
2. 
3. 

**預期行為**: 
[應該發生什麼]

**實際行為**: 
[實際發生什麼]

**環境信息**:
- 服務器: 
- 版本: 
- 配置: 

**截圖/日誌**: 
[如果有]
```

---

## ✅ 測試完成標準

測試被認為完成當：

- ✅ 所有 5 個核心功能都能正常工作
- ✅ 沒有阻塞性問題（所有高優先級問題已修復）
- ✅ 系統穩定運行 24 小時以上
- ✅ 性能指標達到預期
- ✅ 測試報告已生成

---

## 📊 測試報告

測試完成後，請生成測試報告，包含：

1. **測試總結**
   - 測試時間範圍
   - 測試的環境
   - 測試的功能列表

2. **測試結果**
   - 每個功能的測試結果
   - 通過/失敗的測試用例

3. **發現的問題**
   - 問題列表
   - 問題嚴重程度
   - 修復狀態

4. **性能數據**
   - 響應時間
   - 資源使用
   - 並發處理能力

5. **建議**
   - 改進建議
   - 下一步行動

---

**開始時間**: 2025-11-30  
**狀態**: 🟢 準備開始
