# 远程执行说明

由于通过 SSH 执行长时间运行的命令时输出可能被缓冲，我为您提供了以下解决方案：

## 方案 1: 使用 screen 或 tmux（推荐）

在服务器上创建一个持久会话：

```bash
# 在服务器上执行
screen -S e2e_test

# 然后在新会话中执行
cd ~/liaotian/saas-demo
git pull origin master
chmod +x 一键执行所有测试.sh
bash 一键执行所有测试.sh

# 按 Ctrl+A 然后按 D 来分离会话
# 之后可以用 screen -r e2e_test 重新连接查看进度
```

## 方案 2: 使用 nohup 后台执行

```bash
cd ~/liaotian/saas-demo
nohup bash 一键执行所有测试.sh > test_output.log 2>&1 &
tail -f test_output.log
```

## 方案 3: 分步执行（可以看到每步的结果）

```bash
# 步骤 1
cd ~/liaotian/admin-backend && source .venv/bin/activate && export ADMIN_DEFAULT_PASSWORD=testpass123 && python reset_admin_user.py

# 步骤 2
sleep 2 && curl -X POST http://localhost:8000/api/v1/auth/login -H "Content-Type: application/x-www-form-urlencoded" -d "username=admin@example.com&password=testpass123"

# 步骤 3
cd ~/liaotian/saas-demo && npx playwright install chromium

# 步骤 4
npm run test:e2e
```

## 为什么 SSH 输出可能为空？

1. **命令仍在执行** - 测试可能需要几分钟
2. **输出缓冲** - 某些命令的输出可能被缓冲
3. **非交互式会话** - SSH 非交互式会话可能不显示某些输出

## 建议

使用 **方案 1 (screen)** 或 **方案 3 (分步执行)** 来查看实时进度。
