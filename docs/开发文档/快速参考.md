# Telegramæ³¨å†Œç³»ç»Ÿ - å¿«é€Ÿå‚è€ƒ

## ğŸš€ å¿«é€Ÿå¯åŠ¨

```bash
# 1. å¯åŠ¨åç«¯
cd admin-backend
uvicorn app.main:app --reload --host 127.0.0.1 --port 8000

# 2. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd admin-frontend
npm run dev

# 3. è®¿é—®ç³»ç»Ÿ
# å‰ç«¯: http://localhost:3000
# APIæ–‡æ¡£: http://localhost:8000/docs
```

## ğŸ“ é‡è¦æ–‡ä»¶ä½ç½®

### åç«¯ä»£ç 
- æ•°æ®æ¨¡å‹: `admin-backend/app/models/telegram_registration.py`
- æ³¨å†ŒæœåŠ¡: `admin-backend/app/services/telegram_registration_service.py`
- é£æ§æœåŠ¡: `admin-backend/app/services/anti_detection_service.py`
- APIè·¯ç”±: `admin-backend/app/api/telegram_registration.py`
- æ•°æ®åº“è¿ç§»: `admin-backend/alembic/versions/xxxx_add_telegram_registration_tables.py`

### å‰ç«¯ä»£ç 
- æ³¨å†Œé¡µé¢: `admin-frontend/src/pages/TelegramRegister.tsx`
- APIè°ƒç”¨: `admin-frontend/src/services/api.ts`
- è´¦æˆ·é¡µé¢: `admin-frontend/src/pages/Accounts.tsx`

### é…ç½®æ–‡ä»¶
- æœåŠ¡å™¨é…ç½®: `data/master_config.json`

### æµ‹è¯•å·¥å…·
- ç³»ç»Ÿæµ‹è¯•: `admin-backend/test_full_system.py`
- APIæµ‹è¯•: `admin-backend/test_api_endpoints.py`
- æµç¨‹æµ‹è¯•: `admin-backend/test_registration_flow.py`
- æ•°æ®åº“éªŒè¯: `admin-backend/verify_migration.py`

## ğŸ”— APIç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/v1/telegram-registration/start` | å¼€å§‹æ³¨å†Œ |
| POST | `/api/v1/telegram-registration/verify` | éªŒè¯OTP |
| GET | `/api/v1/telegram-registration/status/{id}` | æŸ¥è¯¢çŠ¶æ€ |
| POST | `/api/v1/telegram-registration/cancel` | å–æ¶ˆæ³¨å†Œ |

## ğŸ—„ï¸ æ•°æ®åº“è¡¨

- `user_registrations` - ç”¨æˆ·æ³¨å†Œè®°å½•
- `session_files` - Sessionæ–‡ä»¶è®°å½•
- `anti_detection_logs` - é£æ§æ—¥å¿—

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
cd admin-backend

# å®Œæ•´ç³»ç»Ÿæµ‹è¯•
python test_full_system.py

# APIç«¯ç‚¹æµ‹è¯•
python test_api_endpoints.py

# æ•°æ®åº“éªŒè¯
python verify_migration.py
```

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### è®¾è®¡æ–‡æ¡£
- ç³»ç»Ÿè®¾è®¡: `docs/ç³»ç»Ÿè®¾è®¡/Telegram APIæ³¨å†Œç³»ç»Ÿè®¾è®¡æ–‡æ¡£.md`

### å¼€å‘æ–‡æ¡£
- ä½¿ç”¨è¯´æ˜: `docs/å¼€å‘æ–‡æ¡£/Telegramæ³¨å†Œç³»ç»Ÿä½¿ç”¨è¯´æ˜.md`
- å¼€å‘æŠ¥å‘Š: `docs/å¼€å‘æ–‡æ¡£/Telegramæ³¨å†Œç³»ç»Ÿå¼€å‘å®ŒæˆæŠ¥å‘Š.md`
- é¡¹ç›®æ€»ç»“: `docs/å¼€å‘æ–‡æ¡£/é¡¹ç›®å®Œæˆæ€»ç»“.md`
- äº¤ä»˜æŠ¥å‘Š: `docs/å¼€å‘æ–‡æ¡£/é¡¹ç›®äº¤ä»˜æŠ¥å‘Š.md`

### æµ‹è¯•æ–‡æ¡£
- æµ‹è¯•æŒ‡å—: `docs/å¼€å‘æ–‡æ¡£/åŠŸèƒ½æµ‹è¯•æŒ‡å—.md`
- æµ‹è¯•æ¸…å•: `docs/å¼€å‘æ–‡æ¡£/å®Œæ•´æµ‹è¯•æ£€æŸ¥æ¸…å•.md`
- æµ‹è¯•æ‰§è¡Œ: `docs/å¼€å‘æ–‡æ¡£/æµ‹è¯•æ‰§è¡ŒæŒ‡å—.md`

## âš™ï¸ é…ç½®è¯´æ˜

### æœåŠ¡å™¨é…ç½®

ç¼–è¾‘ `data/master_config.json`:

```json
{
  "servers": {
    "worker-01": {
      "host": "æœåŠ¡å™¨IP",
      "user": "ç”¨æˆ·å",
      "password": "å¯†ç ",
      "node_id": "worker-01"
    }
  }
}
```

### é€Ÿç‡é™åˆ¶é…ç½®

ç¼–è¾‘ `admin-backend/app/services/rate_limiter_service.py`:

```python
RATE_LIMITS = {
    'per_phone_per_hour': 3,
    'per_phone_per_day': 10,
    'per_ip_per_hour': 5,
    'per_ip_per_day': 20,
    'per_device_per_day': 15,
    'global_per_minute': 30,
}
```

## ğŸ¯ ä½¿ç”¨æµç¨‹

1. **ç™»å½•ç³»ç»Ÿ** â†’ http://localhost:3000
2. **è¿›å…¥æ³¨å†Œé¡µé¢** â†’ è´¦æˆ·ä¸­å¿ƒ â†’ Telegramæ³¨å†Œ
3. **å¡«å†™ä¿¡æ¯** â†’ æ‰‹æœºå·ã€æœåŠ¡å™¨ç­‰
4. **å¼€å§‹æ³¨å†Œ** â†’ ç‚¹å‡»"å¼€å§‹æ³¨å†Œ"
5. **è¾“å…¥éªŒè¯ç ** â†’ æ”¶åˆ°éªŒè¯ç åè¾“å…¥
6. **å®Œæˆæ³¨å†Œ** â†’ Sessionæ–‡ä»¶ç”Ÿæˆ

## âš ï¸ å¸¸è§é—®é¢˜

### åç«¯æœåŠ¡æ— æ³•å¯åŠ¨
- æ£€æŸ¥ç«¯å£8000æ˜¯å¦è¢«å ç”¨
- æ£€æŸ¥Pythonä¾èµ–æ˜¯å¦å®‰è£…

### å‰ç«¯æ— æ³•è¿æ¥åç«¯
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥APIåœ°å€é…ç½®

### æ³¨å†Œå¤±è´¥
- æ£€æŸ¥æœåŠ¡å™¨é…ç½®
- æ£€æŸ¥SSHè¿æ¥
- æŸ¥çœ‹åç«¯æ—¥å¿—

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹æ–‡æ¡£: `docs/å¼€å‘æ–‡æ¡£/`
- è¿è¡Œæµ‹è¯•: `admin-backend/test_*.py`
- æŸ¥çœ‹æ—¥å¿—: `logs/backend.log`

---

**å¿«é€Ÿå‚è€ƒ - éšæ—¶æŸ¥é˜…ï¼** ğŸ“–

